<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>化简为凡的小站</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="hello, everyone, I love you!~">
<meta property="og:type" content="website">
<meta property="og:title" content="化简为凡的小站">
<meta property="og:url" content="http://hushiking.github.io/page/7/index.html">
<meta property="og:site_name" content="化简为凡的小站">
<meta property="og:description" content="hello, everyone, I love you!~">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="化简为凡的小站">
<meta name="twitter:description" content="hello, everyone, I love you!~">
  
    <link rel="alternate" href="/atom.xml" title="化简为凡的小站" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">化简为凡的小站</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">用生命谱写代码的赞歌</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hushiking.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Node.js/Node与npm" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/09/09/Node.js/Node与npm/" class="article-date">
  <time datetime="2015-09-09T11:23:11.000Z" itemprop="datePublished">2015-09-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web前端/">web前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/09/Node.js/Node与npm/">Node.js 与 npm</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Node-js-与-npm-常用命令"><a href="#Node-js-与-npm-常用命令" class="headerlink" title="Node.js 与 npm 常用命令"></a>Node.js 与 npm 常用命令</h1><p>本文用于总结 Node.js 与 npm 的一些常用命令，不定时更新……</p>
<h2 id="npm命令"><a href="#npm命令" class="headerlink" title="npm命令"></a>npm命令</h2><ul>
<li><code>npm list -g --depth 0</code><ul>
<li>表示查看全局安装的包，–depth 0 参数代表只查找到 0 级安装包</li>
<li><code>-g</code>：全局的安装包</li>
<li><code>list</code>：已安装的node包</li>
<li><code>depth 0</code>：可能是深度0 ，表示一级安装包</li>
</ul>
</li>
<li><code>npm config</code><ul>
<li>管理 npm 的配置路径</li>
<li>例如 <code>npm config set registry &quot;http://registry.npm.taobao.org&quot;</code></li>
</ul>
</li>
<li><code>npm install</code><ul>
<li>-S, –save： Package will appear in your dependencies.</li>
<li>-D, –save-dev： Package will appear in your devDependencies.</li>
<li>-O, –save-optional： Package will appear in your optionalDependencies.</li>
</ul>
</li>
<li><code>npm info xxx</code><ul>
<li>列出某个<code>npm</code>包的所有相关信息</li>
</ul>
</li>
<li><code>npm view react versions</code><ul>
<li>以<code>react</code>为例，列出<code>react</code>包的所有可以使用的版本号</li>
</ul>
</li>
<li><code>package.json</code> 命令<ul>
<li><code>&quot;start&quot;: &quot;set NODE_ENV=production&amp;&amp; npm run build &amp;&amp; node babel/server&quot;,</code></li>
<li><code>production</code>后面不要留空格，否则 set 命令把空格带进环境变量里去 (windows环境)</li>
</ul>
</li>
</ul>
<h2 id="nvm"><a href="#nvm" class="headerlink" title="nvm"></a>nvm</h2><ul>
<li>临时设置nvm下载nodejs源：<code>export NVM_NODEJS_ORG_MIRROR=https://npm.taobao.org/mirrors/node</code></li>
<li>永久修改nvm源：在<code>~/.bash_profile</code>文件中加入上面的命令，然后<code>source ~/.bash_profile</code></li>
</ul>
<h2 id="Restful"><a href="#Restful" class="headerlink" title="Restful"></a>Restful</h2><ol>
<li>url 地址中的动词用 http 请求方法的动词替代</li>
<li>采用 json 数据格式传递数据</li>
</ol>
<h2 id="Node-js命令"><a href="#Node-js命令" class="headerlink" title="Node.js命令"></a>Node.js命令</h2><ul>
<li><p>简单搭建服务器</p>
<ol>
<li>创建服务器，得到 Server 实例对象<ul>
<li><code>var server = http.createServer()</code></li>
</ul>
</li>
<li>监听请求事件，设置请求处理函数<ul>
<li>Server 端的请求入口，所有的请求都会触发 request 请求事件</li>
<li>然后执行对应的请求处理函数</li>
<li><code>server.on(&#39;request&#39;, function (req, res) { handleCode }</code></li>
<li>或者所有请求都先进入 router 中进行匹配分发处理处理函数</li>
<li><code>server.on(&#39;request&#39;, function (req, res) { router(req, res)})</code></li>
</ul>
</li>
<li>绑定端口，启动服务器<ul>
<li><code>server.listen(3000, function () {console.log(&#39;Server is running at port 3000...&#39;)})</code></li>
</ul>
</li>
</ol>
</li>
<li><p>在 <strong>handleCode</strong> 中使用到 url 模块解析 url 路径</p>
<ol>
<li>url 模块中的 parse 方法可以将一个路径解析为一个对象</li>
<li>得到一个路径中的请求路径部分、查询字符串部分、端口号、协议等信息</li>
<li>通过指定第二个参数为 true，<strong>自动</strong>将解析到的 <em>查询字符串解析为一个对象</em></li>
<li>通过指定第三个参数为 true，将<code>//foo/bar</code>解析为<code>{ host: &#39;foo&#39;, pathname: &#39;/bar&#39; }</code>，而不是解析为<code>{ pathname: &#39;//foo/bar&#39; }</code>，默认为false<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> urlObj = url.parse(req.url, <span class="literal">true</span>)</span><br><span class="line"><span class="comment">// 拿到请求路径中的查询字符串对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> queryObj = urlObj.query</span><br><span class="line"><span class="comment">// 只拿到请求路径中的路径部分（不包含查询字符串）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pathname = urlObj.pathname</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h3 id="NODE-ENV-设置"><a href="#NODE-ENV-设置" class="headerlink" title="NODE_ENV 设置"></a>NODE_ENV 设置</h3><ul>
<li><p>cmd模式（Windows）</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> NODE_ENV = production</span><br><span class="line">node app.js</span><br><span class="line"></span><br><span class="line">// app.js</span><br><span class="line">console.log(process.env.NODE_ENV)</span><br></pre></td></tr></table></figure>
</li>
<li><p>shell模式（Linux）</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NODE_ENV = production node app.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用cross-env包</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i cross-env --save-dev</span><br><span class="line">cross-env NODE_ENV=blablabla</span><br></pre></td></tr></table></figure>
</li>
<li><p>package.json中script命令</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm run xxx --production</span><br><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="built_in">console</span>.log(process.env.NODE_ENV) <span class="comment">//production</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="npm-全局配置"><a href="#npm-全局配置" class="headerlink" title="npm 全局配置"></a>npm 全局配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line">npm config <span class="built_in">set</span> disturl https://npm.taobao.org/dist</span><br><span class="line">npm config <span class="built_in">set</span> electron_mirror https://npm.taobao.org/mirrors/electron/</span><br><span class="line">npm config <span class="built_in">set</span> sass_binary_site https://npm.taobao.org/mirrors/node-sass/</span><br><span class="line">npm config <span class="built_in">set</span> phantomjs_cdnurl https://npm.taobao.org/mirrors/phantomjs/</span><br></pre></td></tr></table></figure>
<h2 id="yarn-全局配置"><a href="#yarn-全局配置" class="headerlink" title="yarn 全局配置"></a>yarn 全局配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yarn config <span class="built_in">set</span> registry https://registry.npm.taobao.org -g</span><br><span class="line">yarn config <span class="built_in">set</span> disturl https://npm.taobao.org/dist -g</span><br><span class="line">yarn config <span class="built_in">set</span> electron_mirror https://npm.taobao.org/mirrors/electron/ -g</span><br><span class="line">yarn config <span class="built_in">set</span> sass_binary_site https://npm.taobao.org/mirrors/node-sass/ -g</span><br><span class="line">yarn config <span class="built_in">set</span> phantomjs_cdnurl https://npm.taobao.org/mirrors/phantomjs/ -g</span><br><span class="line">yarn config <span class="built_in">set</span> chromedriver_cdnurl https://cdn.npm.taobao.org/dist/chromedriver -g</span><br><span class="line">yarn config <span class="built_in">set</span> operadriver_cdnurl https://cdn.npm.taobao.org/dist/operadriver -g</span><br><span class="line">yarn config <span class="built_in">set</span> fse_binary_host_mirror https://npm.taobao.org/mirrors/fsevents -g</span><br></pre></td></tr></table></figure>
<h2 id="yarn-切换-设置-源"><a href="#yarn-切换-设置-源" class="headerlink" title="yarn 切换/设置 源"></a>yarn 切换/设置 源</h2><ol>
<li>查看当前源: <code>yarn config get registry</code></li>
<li>切换淘宝源: <code>yarn config set registry https://registry.npm.taobao.org</code></li>
<li>切换回自带源: <code>yarn config set registry https://registry.yarnpkg.com</code></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hushiking.github.io/2015/09/09/Node.js/Node与npm/" data-id="cjvlw5bld004yxfq3sp1wumv0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/npm/">npm</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript/原型与原型链" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/09/08/JavaScript/原型与原型链/" class="article-date">
  <time datetime="2015-09-08T12:21:11.000Z" itemprop="datePublished">2015-09-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/读书笔记/">读书笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/08/JavaScript/原型与原型链/">原型与原型链</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h1><ol>
<li>概念：所谓原型就是指函数的 <code>prototype</code> 属性所引用的对象<ul>
<li>只要定义一个函数，那么就会创建其原型</li>
<li>由上述函数创建出来的所有对象，都可以直接访问到原型上的成员</li>
</ul>
</li>
<li>作用：实现同类对象之间的数据共享。</li>
<li>获取原型方式<ul>
<li>通过函数：<code>fnName.prototype</code></li>
<li>通过对象：<code>objName.__proto__</code></li>
<li>注意：以 <code>__</code> 开头和结尾的属性均为非标准属性，原型默认具有 <code>constructor</code> 属性，引用的就是其构造函数</li>
</ul>
</li>
</ol>
<h2 id="原型特性："><a href="#原型特性：" class="headerlink" title="原型特性："></a>原型特性：</h2><blockquote>
<p>动态性：置换原型记得重新要设置 constructor 属性指向构造函数！！！</p>
</blockquote>
<ul>
<li>动态性<ul>
<li>在已有的原型上扩展成员，直接反映到已创建出来的对象上</li>
<li>如果置换了已有的原型，那么会反映到后面新创建的对象，而不会影响之前创建的对象</li>
</ul>
</li>
<li>唯一性<ul>
<li>由同一个构造函数创建出来的所有对象，都共享一个原型</li>
</ul>
</li>
<li>不可变性(对于基本类型的属性)<ul>
<li>不能通过对象来修改原型上的成员（仅对基本类型属性而言）</li>
</ul>
</li>
<li>共享性<ul>
<li>所有的对象都可以直接访问其原型上的成员</li>
</ul>
</li>
</ul>
<h3 id="组合方式创建对象"><a href="#组合方式创建对象" class="headerlink" title="组合方式创建对象"></a>组合方式创建对象</h3><ul>
<li>组合原型和构造函数一起来创建对象</li>
<li>将私有的属性写在构造函数内</li>
<li>将共有的属性或行为写到其原型上</li>
</ul>
<h3 id="proto-与-prototype"><a href="#proto-与-prototype" class="headerlink" title="__proto__ 与 prototype"></a><code>__proto__</code> 与 prototype</h3><ol>
<li><p>函数（方法）拥有自己特有的属性 – 原型属性 (prototype)，这个属性是一个指针，指向一个对象，这个对象的用途就是包含所有实例共享的属性和方法（这个对象叫做<strong>原型对象</strong>）。原型对象也有一个属性，叫做 constructor，这个属性包含了一个指针，指回原构造函数。</p>
</li>
<li><p>在 js 中，万物皆对象。方法 (Function) 是对象，方法的原型 (Function.prototype) 是对象。因此，他们都会具有对象共有的特点。即对象具有属性 <code>__proto__</code>，可称为隐式原型。一个对象的隐式原型指向构造该对象的构造函数的原型，这也保证了实例能够访问在构造函数原型中定义的属性和方法。</p>
</li>
</ol>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><ol>
<li><p>注意：其他面向对象语言 C# Java swift 类与类之间继承，而在js中，是对象与对象之间的继承</p>
</li>
<li><p>概念：就是指 一个对象有权去访问另一个对象上的成员（属性和方法）</p>
</li>
<li><p>继承的实现</p>
<ul>
<li>原型式继承<ol>
<li>在原有的原型上扩展</li>
<li>置换原型</li>
</ol>
</li>
<li>混入式：将要继承的对象上的所有成员拷贝一份，添加到本身。</li>
</ul>
</li>
<li><p>Object.create方法</p>
<ul>
<li>实现原型式继承（通过置换原型方法）</li>
<li><p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> newObj = <span class="built_in">Object</span>.create(parent);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>相关结论：</p>
<ul>
<li><code>Object.prototype</code> 的原型为 <code>null</code></li>
<li>默认原型对象的原型为 <code>Object.prototype</code></li>
</ul>
</li>
<li><p>属性搜索原则：当访问对象的某个属性时，</p>
<ul>
<li>首先，在对象本身上查找，如果找到就返回值，并停止查找</li>
<li>如果没有找到就向其原型对象上查找，如果找到就返回值，并停止查找；</li>
<li>如果在没有找到，就继续向其原型的原型对象上查找，直到 <code>Object.prototype</code></li>
<li>此时如果找到就返回值，否则值为 <code>undefined</code></li>
</ul>
</li>
</ol>
<h2 id="原型链的概念"><a href="#原型链的概念" class="headerlink" title="原型链的概念"></a>原型链的概念</h2><ul>
<li>所谓原型链 就是指从一个对象到 <code>Object.prototype</code> 之间存在一条体现继承层次关系的链式结构，这个结构被称为对象的原型链。</li>
<li>本质：链上的每一个对象都是通过 <code>__proto__</code> 属性连接起来的。</li>
</ul>
<h3 id="绘制原型链"><a href="#绘制原型链" class="headerlink" title="绘制原型链"></a>绘制原型链</h3><ul>
<li>先简写对象的原型链</li>
<li>将上述原型链上的所有对象绘制在图形上。并且将和原型链相关的属性添加到对象上</li>
<li>给对象的每一个属性确定指向</li>
<li>如果在图形上的每一个对象的属性都有正确指向，说明绘制完成</li>
</ul>
<h3 id="Object-prototype-的方法简介"><a href="#Object-prototype-的方法简介" class="headerlink" title="Object.prototype 的方法简介"></a>Object.prototype 的方法简介</h3><ol>
<li><p>hasOwnProperty</p>
<ul>
<li>has 有</li>
<li>own 自己的</li>
<li>property 属性</li>
<li>语法：obj.hasOwnProperty(“propName”)</li>
<li>用来判断指定属性是否为对象自身的，而不是继承过来的;如果是自身的就返回 true，否则返回 false</li>
</ul>
</li>
<li><p>isPrototypeOf</p>
<ul>
<li>is 是</li>
<li>Prototype 原型</li>
<li>of 的</li>
<li>obj1.isPrototypeOf(obj2)</li>
<li>用来判断 obj1 对象是否为 obj2 对象的原型；如果是，就返回 true，否则返回 false</li>
</ul>
</li>
<li><p>propertyIsEnumerable</p>
<ul>
<li>property 属性</li>
<li>is 是</li>
<li>Enumerable 可枚举的，可以使用 <code>for in</code> 遍历出来的属性</li>
<li>obj.propertyIsEnumerable(‘propName’)</li>
<li>hasOwnProperty 升级版：</li>
<li>满足这2个条件返回 true，否则返回 false<ul>
<li>指定的属性必须是对象本身的</li>
<li>该属性必须可枚举</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="装箱-与-拆箱"><a href="#装箱-与-拆箱" class="headerlink" title="装箱 与 拆箱"></a>装箱 与 拆箱</h2><ul>
<li>将基本数据类型 转换为 复合数据类型，这个过程被称为 装箱</li>
<li>将复合数据类型 转换为 基本数据类型，这个过程被称为 拆箱</li>
</ul>
<h2 id="强调几点"><a href="#强调几点" class="headerlink" title="强调几点"></a>强调几点</h2><ul>
<li>默认原型对象才具有 <code>constructor</code> 属性 (置换原型之后需要手动添加 <code>constructor</code> 属性)</li>
<li>只有函数具有 <code>prototype</code> 属性（除了 <code>Function.prototype</code> ）</li>
<li>任意的对象都具有 <code>__proto__</code> 属性</li>
</ul>
<h2 id="instanceof介绍"><a href="#instanceof介绍" class="headerlink" title="instanceof介绍"></a>instanceof介绍</h2><ul>
<li><p>obj instanceof constructor（构造函数）</p>
</li>
<li><p>规则：如果 constructor 的原型 出现在 obj 的原型链上的话，表达式返回值为 true，否则 false</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hushiking.github.io/2015/09/08/JavaScript/原型与原型链/" data-id="cjvlw5bkz0042xfq3zxxojs03" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/原型/">原型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/原型链/">原型链</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript/数组高级用法-reduce&amp;filter" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/08/17/JavaScript/数组高级用法-reduce&filter/" class="article-date">
  <time datetime="2015-08-17T02:09:11.000Z" itemprop="datePublished">2015-08-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web前端/">web前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/17/JavaScript/数组高级用法-reduce&filter/">数组高级用法举例-升维与降维</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="应用举例-数组格式化"><a href="#应用举例-数组格式化" class="headerlink" title="应用举例-数组格式化"></a>应用举例-数组格式化</h1><p>需求：有下面一组数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [</span><br><span class="line">    [<span class="string">'客服小艾'</span>, <span class="string">'跟进任务'</span>, <span class="string">'114'</span>],</span><br><span class="line">    [<span class="string">'客服小艾'</span>, <span class="string">'助理任务'</span>, <span class="string">'13'</span>],</span><br><span class="line">    [<span class="string">'杨朝'</span>, <span class="string">'助理任务'</span>, <span class="string">'32'</span>],</span><br><span class="line">    [<span class="string">'欣客服'</span>, <span class="string">'跟进任务'</span>, <span class="string">'4'</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>每个客服人员必须拥有两种任务（跟进任务与助理任务），如果该客服人员缺少其中某项任务，则将其另一项任务补全，任务数设置为<code>0</code>，即将上面的数组转化为下面数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    [<span class="string">"客服小艾"</span>, <span class="string">"跟进任务"</span>, <span class="string">"114"</span>],</span><br><span class="line">    [<span class="string">"客服小艾"</span>, <span class="string">"助理任务"</span>, <span class="string">"13"</span>],</span><br><span class="line">    [<span class="string">"杨朝"</span>, <span class="string">"助理任务"</span>, <span class="string">"32"</span>],</span><br><span class="line">    [<span class="string">"欣客服"</span>, <span class="string">"跟进任务"</span>, <span class="string">"4"</span>],</span><br><span class="line">    [<span class="string">"杨朝"</span>, <span class="string">"跟进任务"</span>, <span class="string">"0"</span>],</span><br><span class="line">    [<span class="string">"欣客服"</span>, <span class="string">"助理任务"</span>, <span class="string">"0"</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="综合使用-reduce-和-filter-函数"><a href="#综合使用-reduce-和-filter-函数" class="headerlink" title="综合使用 reduce 和 filter 函数"></a>综合使用 reduce 和 filter 函数</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>数组格式化<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        /* // 将二维数组转化为一维数组</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">downDimension</span>(<span class="params">arr</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> newArr = arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> a.concat(b)</span></span><br><span class="line"><span class="undefined">        &#125;, [])</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> newArr</span></span><br><span class="line"><span class="undefined">        &#125; */</span></span><br><span class="line"><span class="undefined">        /* // 取出一维数组中的客服名字组成新数组</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">composeNameArr</span>(<span class="params">arr</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> newArr = arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item, index</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (index % <span class="number">3</span> === <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">return</span> item</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">          &#125;)</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> newArr</span></span><br><span class="line"><span class="undefined">        &#125; */</span></span><br><span class="line"><span class="undefined">        /* // 计算同一个客服名字的个数</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">counteName</span>(<span class="params">arr</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> countItem = nameArr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">allItems, item</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (item <span class="keyword">in</span> allItems) &#123;</span></span><br><span class="line"><span class="undefined">              allItems[item]++</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">              allItems[item] = 1</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> allItems</span></span><br><span class="line"><span class="undefined">          &#125;, &#123;&#125;)</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> countItem</span></span><br><span class="line"><span class="undefined">        &#125; */</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> arr = [</span></span><br><span class="line"><span class="javascript">            [<span class="string">'客服小艾'</span>, <span class="string">'跟进任务'</span>, <span class="string">'114'</span>],</span></span><br><span class="line"><span class="javascript">            [<span class="string">'客服小艾'</span>, <span class="string">'助理任务'</span>, <span class="string">'13'</span>],</span></span><br><span class="line"><span class="javascript">            [<span class="string">'杨朝'</span>, <span class="string">'助理任务'</span>, <span class="string">'32'</span>],</span></span><br><span class="line"><span class="javascript">            [<span class="string">'欣客服'</span>, <span class="string">'跟进任务'</span>, <span class="string">'4'</span>]</span></span><br><span class="line"><span class="undefined">        ]</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 判断新增任务类别</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">judgeTask</span>(<span class="params">task</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (task === <span class="string">'跟进任务'</span>) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="string">'助理任务'</span></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="string">'跟进任务'</span></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 一维数组转化为二维数组</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">upDimension</span>(<span class="params">arr</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> newArr = []</span></span><br><span class="line"><span class="javascript">            <span class="keyword">while</span> (arr.length !== <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="undefined">                newArr.push(arr.splice(0, 3))</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> newArr</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 转化格式</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">formatArr</span>(<span class="params">arr</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 将二维数组转化为一维数组</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> concatArr = arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> a.concat(b)</span></span><br><span class="line"><span class="undefined">            &#125;, [])</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(concatArr)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 挑出客服名字组成数组</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> nameArr = concatArr.filter(<span class="function"><span class="keyword">function</span> (<span class="params">item, index</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (index % <span class="number">3</span> === <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> item</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;)</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(nameArr)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 判断同一个客服名字出现几次</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> countItem = nameArr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">allItems, item</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (item <span class="keyword">in</span> allItems) &#123;</span></span><br><span class="line"><span class="undefined">                    allItems[item]++</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                    allItems[item] = 1</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> allItems</span></span><br><span class="line"><span class="undefined">            &#125;, &#123;&#125;)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 名字次数为1的需要添加任务</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> countItem) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (countItem[key] === <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> index = concatArr.indexOf(key)</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> task = concatArr[index + <span class="number">1</span>]</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> newTask = judgeTask(task)</span></span><br><span class="line"><span class="javascript">                    concatArr = concatArr.concat([key, newTask, <span class="string">'0'</span>])</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> resultArr = upDimension(concatArr)</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> resultArr</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(formatArr(arr))</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://hushiking.github.io/2015/08/17/JavaScript/数组高级用法-reduce&filter/" data-id="cjvlw5bl3004cxfq3wjx6cxq7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Array/">Array</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript/函数与闭包/函数与闭包" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/30/JavaScript/函数与闭包/函数与闭包/" class="article-date">
  <time datetime="2015-07-30T05:51:10.000Z" itemprop="datePublished">2015-07-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web前端/">web前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/30/JavaScript/函数与闭包/函数与闭包/">函数与闭包</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h1><ul>
<li>声明式</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>表达式</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fnName();</span><br><span class="line"><span class="keyword">var</span> fnName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>构造函数方式</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"arg1"</span>, <span class="string">"arg2"</span>, <span class="string">"arg3"</span>, ...<span class="string">"argN"</span>, <span class="string">"body"</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>“arg1”, “arg2”, “arg3”, …”argN” 为生成函数的形参列表，且为可选的参数列表</li>
<li>“body” 为生成函数的函数体部分</li>
<li>如果不给构造函数传参数的话，就会创建一个没有形参列表也没有函数体实现的函数。</li>
<li>如果只传入一个参数，那么这个参数值会交给 “body” 形参。</li>
</ul>
</li>
</ul>
<h2 id="几个概念"><a href="#几个概念" class="headerlink" title="几个概念"></a>几个概念</h2><ul>
<li>函数对象：在绘制函数的原型链的时候，将函数称为<strong>函数对象</strong></li>
<li>除了函数，都称为 <strong>普通对象</strong>。</li>
<li>非严格模式下，声明的全局变量都是 window 对象的属性</li>
<li>函数的名字存储的是函数对象的地址</li>
</ul>
<h2 id="函数相关属性"><a href="#函数相关属性" class="headerlink" title="函数相关属性"></a>函数相关属性</h2><ul>
<li>caller: 返回调用当前函数的函数<ul>
<li>所谓函数调用函数 就是指在函数体内部调用其他函数</li>
</ul>
</li>
<li>length: 记录的是形参的个数</li>
<li>name: 记录函数的名字</li>
</ul>
<h3 id="arguments-伪数组对象，用于存储实参"><a href="#arguments-伪数组对象，用于存储实参" class="headerlink" title="arguments 伪数组对象，用于存储实参"></a>arguments 伪数组对象，用于存储实参</h3><ul>
<li><code>arguments.callee</code>: 返回正在执行的函数。</li>
<li>length: 存储实参的个数</li>
<li>当一个匿名函数作为某个对象的属性值时，在其内部只有使用 <code>arguments.callee</code> 来获取函数</li>
<li>用途：可以用在不定项形参个数的函数实现</li>
<li>函数没有重载，可以用arguments模拟函数重载</li>
</ul>
<h3 id="函数四种调用模式"><a href="#函数四种调用模式" class="headerlink" title="函数四种调用模式"></a>函数四种调用模式</h3><blockquote>
<p>确定调用模式的作用：确定this执向的</p>
</blockquote>
<ol>
<li><p>普通函数执行模式：声明一个函数后，直接通过函数的名字调用。</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// this -&gt; window</span></span><br><span class="line">&#125;</span><br><span class="line">foo(); <span class="comment">// 普通函数执行模式</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>构造函数模式： 通过 new 操作符创建一个对象，此时该函数的执行模式为 <strong>构造函数模式</strong></p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// this -&gt; 构造函数创建出来的对象</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> fn; <span class="comment">// 构造函数执行模式</span></span><br><span class="line"><span class="keyword">var</span> ff = <span class="keyword">new</span> fn;</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法调用模式：通过对象来调用</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;<span class="attr">say</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// this -&gt; 方法的调用者， 即对象o。</span></span><br><span class="line">&#125;&#125;;</span><br><span class="line">o.say(); <span class="comment">// 方法调用模式</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>上下文模式 ( call/apply 模式):</p>
<ul>
<li>作用：动态改变 this 的指向</li>
<li><p>this -&gt; call|apply方法的第一个参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>: <span class="string">"tom"</span>&#125;;</span><br><span class="line">print.call(obj); <span class="comment">// tom</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h2 id="call-和-apply-的区别"><a href="#call-和-apply-的区别" class="headerlink" title="call 和 apply 的区别"></a>call 和 apply 的区别</h2><ul>
<li><p>fn.call(thisObj, arg1, arg2, arg3, …argN);</p>
<ul>
<li>thisObj –&gt; 在fn函数内部的this指向（必需）</li>
<li>arg1, arg2, arg3, …argN –&gt; 函数fn在执行时，传入的实参。（可选）</li>
</ul>
</li>
<li><p>fn.apply(thisObj, [array]);</p>
<ul>
<li>thisObj –&gt; 在fn函数内部的this指向（必需）</li>
<li>数组对象 –&gt; 将数组的所有元素值当做fn执行时的实参。（可选）</li>
</ul>
</li>
</ul>
<h3 id="上下文模式应用"><a href="#上下文模式应用" class="headerlink" title="上下文模式应用"></a>上下文模式应用</h3><ul>
<li><p>借用方法</p>
<ul>
<li>数组合并</li>
<li>借用Math对象方法</li>
<li>获取对象类型</li>
<li>实现伪数组对象转换为真数组</li>
</ul>
</li>
<li><p>实现借用构造函数继承</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, gender, high</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.gender = gender;</span><br><span class="line">    <span class="keyword">this</span>.high = high;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Teacher</span>(<span class="params">name, age, gender, high, codeNo, cellphoneNo</span>) </span>&#123;</span><br><span class="line">    Person.apply(<span class="keyword">this</span>, <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">0</span>, <span class="number">4</span>));</span><br><span class="line">    <span class="keyword">this</span>.codeNo = codeNo;</span><br><span class="line">    <span class="keyword">this</span>.cellphoneNo = cellphoneNo;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> t = <span class="keyword">new</span> Teacher(<span class="string">'guojing'</span>, <span class="number">18</span>, <span class="string">'boy'</span>, <span class="string">'226'</span>, <span class="string">'91248'</span>, <span class="string">'13813813811'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(t);</span><br></pre></td></tr></table></figure>
</li>
<li><p>改变this指向</p>
</li>
</ul>
<h2 id="构造函数的执行过程"><a href="#构造函数的执行过程" class="headerlink" title="构造函数的执行过程"></a>构造函数的执行过程</h2><ul>
<li>先创建一个空对象</li>
<li>将构造函数的作用域 交给 上述对象 || this -&gt; 空对象</li>
<li>开始执行构造函数内部代码</li>
<li><code>return this</code></li>
</ul>
<blockquote>
<p><strong>注意：</strong> 在构造函数中，如果 <strong>显式</strong> 返回一个基本数据类型数据 会被忽略掉。当然返回 <strong>对象</strong> 就不会</p>
</blockquote>
<h3 id="实例成员与静态成员"><a href="#实例成员与静态成员" class="headerlink" title="实例成员与静态成员"></a>实例成员与静态成员</h3><ul>
<li>实例成员：通过构造函数创建出来的对象上的成员，称为实例成员</li>
<li>静态成员：函数对象上的成员，被称为静态成员<blockquote>
<p>区别：实例成员必须先创建实例，再访问；而静态成员直接通过函数的名字即可访问。</p>
</blockquote>
</li>
<li>在实际开发时，如果遇到 <strong>工具类方法</strong>，此时可以考虑写成静态成员。</li>
<li>静态成员相对于实例成员好处为：不需要创建对象，直接通过函数名字来访问成员。</li>
</ul>
<h2 id="递归：函数调用自己。"><a href="#递归：函数调用自己。" class="headerlink" title="递归：函数调用自己。"></a>递归：函数调用自己。</h2><ul>
<li>场景：在遍历 <strong>树形结构</strong> 时，优先考虑使用递归方式。</li>
<li>摸索规律，找到一个简单的方式来解决复杂问题 。</li>
</ul>
<h2 id="词法作用域"><a href="#词法作用域" class="headerlink" title="词法作用域"></a>词法作用域</h2><ul>
<li>全局作用域</li>
<li>局部作用域</li>
<li>全局变量</li>
<li>局部变量</li>
<li>定义：变量的作用域是由 <strong>代码书写的位置</strong> 决定，而不是 <strong>变量被使用的位置</strong> 决定；只有函数可以限定作用域。</li>
</ul>
<h3 id="js中预解析"><a href="#js中预解析" class="headerlink" title="js中预解析"></a>js中预解析</h3><ul>
<li>词法分析: 在此阶段，如果代码有语法错误会直接抛出异常。</li>
<li><strong>变量名提升 和 函数名提升</strong></li>
</ul>
<blockquote>
<p>函数声明最好不要放在if语句块内部。</p>
</blockquote>
<ul>
<li>在现代浏览器不会将函数声明提升</li>
<li>在早期浏览器会得到提升。</li>
</ul>
<h3 id="作用域种类"><a href="#作用域种类" class="headerlink" title="作用域种类"></a>作用域种类</h3><ul>
<li>弱类型语言：大部分为静态作用域</li>
<li>强类型语言：动态作用域</li>
</ul>
<h2 id="in"><a href="#in" class="headerlink" title="in"></a>in</h2><ul>
<li>语法： in 左边的操作数必须为 <strong>字符串类型</strong>，表示属性的名字，如果不是，会尝试将其转换成字符串，如果失败了，就报错。右边的操作数为对象。不为对象，报错。</li>
<li>含义：判断对象是否能访问到该属性，如果能，就返回 true，否则返回 false。</li>
</ul>
<h2 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h2><ul>
<li>可以删除对象的指定属性</li>
<li><strong>注意：</strong> 在操作DOM对象时，只能删除通过”.”或”[]”,方式添加的自定义属性。</li>
</ul>
<h2 id="eval-与-Function"><a href="#eval-与-Function" class="headerlink" title="eval 与 Function"></a>eval 与 Function</h2><ul>
<li>共同点<ul>
<li>都可以将一个字符串当做一段js代码来执行。</li>
</ul>
</li>
<li>eval 具有作用域安全问题，有可能污染变量，而Function并不会。</li>
<li>可以肆意在全局上执行一段字符串代码，会造成网站不安全。</li>
</ul>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><blockquote>
<p>就是可以访问其他函数内部数据的函数。</p>
</blockquote>
<ul>
<li>在js中，函数内部的数据在外部无法访问。</li>
<li>为了访问到函数内部的数据，提出闭包技术。</li>
</ul>
<h3 id="闭包的作用"><a href="#闭包的作用" class="headerlink" title="闭包的作用"></a>闭包的作用</h3><ul>
<li>计数器</li>
<li>沙箱模式 – 匿名自调用函数。很多的框架都使用了沙箱模式<ul>
<li>与外界隔离，即可以分割作用域</li>
<li>内部代码自执行。</li>
<li>在实际开发中，可以考虑将全局对象当做实参传入沙箱内部的变量，以提高 js 性能。</li>
<li>用例：如果在开发中，遇到只需要执行一次的代码块。可以将其放到沙箱内部。</li>
</ul>
</li>
<li>缓存 – 优化fib递归调用性能</li>
<li>实现面向对象的封装<ul>
<li>在Java 中,对象的属性可以添加访问修饰符，private, public，而在 js 并没这些关键字</li>
<li><code>Object.defineProperty</code></li>
</ul>
</li>
<li>科里化：将一个 <strong>拥有多个参数</strong> 的函数转化成一个 <strong>单一参数</strong> 函数的形式。</li>
</ul>
<h3 id="闭包的优缺点"><a href="#闭包的优缺点" class="headerlink" title="闭包的优缺点"></a>闭包的优缺点</h3><ul>
<li>缺点: 常驻内存，增大内存的开销，使用不当就会造成内存泄漏。</li>
<li>优点：<ul>
<li>缓存</li>
<li>实现封装性</li>
<li>避免污染全局对象</li>
<li>处理逻辑的连续性。</li>
</ul>
</li>
<li>应用<ul>
<li>参数复用</li>
<li>延迟计算/执行</li>
<li>提前返回</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 闭包,返回sayAlert函数的执行需要依赖say667()函数的num变量,所以num变量在say667()函数执行后不会回收</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">say667</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> num = <span class="number">666</span>;</span><br><span class="line">        <span class="keyword">var</span> sayAlert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(num); <span class="comment">// 667</span></span><br><span class="line">        &#125;</span><br><span class="line">        num++;</span><br><span class="line">        <span class="keyword">return</span> sayAlert;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> sayAlert = say667();</span><br><span class="line">    sayAlert();</span><br></pre></td></tr></table></figure>
<h2 id="变量的搜索原则："><a href="#变量的搜索原则：" class="headerlink" title="变量的搜索原则："></a>变量的搜索原则：</h2><p>当访问一个变量时，</p>
<ul>
<li>首先在当前作用域上查找，如果找到就直接使用，并停止查找；</li>
<li>如果没有找到，就会向上一级作用域上查找，如果找到就直接使用，并停止查找；</li>
<li>如果还没有找到就继续向上一级作用域查找，直到全局作用域，如果找到就直接使用，并停止查找；</li>
<li>否则报错（xxx is not defined.）</li>
</ul>
<blockquote>
<p>在变量搜索的时候，如果访问的是全局变量，那么会搜索整个作用域链。性能会降低。在实际开发时，可以将常用的全局对象传入局部变量内。在同级链上的变量，互相不能访问。</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hushiking.github.io/2015/07/30/JavaScript/函数与闭包/函数与闭包/" data-id="cjvlw5bnv00c0xfq3k0xbu2pa" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/闭包/">闭包</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript/函数与闭包/一道经典的JS闭包面试题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/19/JavaScript/函数与闭包/一道经典的JS闭包面试题/" class="article-date">
  <time datetime="2015-07-19T13:05:09.000Z" itemprop="datePublished">2015-07-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web前端/">web前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/19/JavaScript/函数与闭包/一道经典的JS闭包面试题/">JS 面试题（一）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="闭包面试题"><a href="#闭包面试题" class="headerlink" title="闭包面试题"></a>闭包面试题</h1><p>闭包就是能够读取其他函数内部变量的函数。</p>
<p>由于在 Javascript 语言中，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成“定义在一个函数内部的函数”。</p>
<p>所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。</p>
<p>闭包有两个作用，一个是可以读取函数内部的变量，另一个就是让这些变量的值始终保持在内存中。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">n, o</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(o)</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        fun: <span class="function"><span class="keyword">function</span>(<span class="params">m</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> fun(m, n)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = fun(<span class="number">0</span>)  <span class="comment">// undefined</span></span><br><span class="line">a.fun(<span class="number">1</span>)  <span class="comment">// 0</span></span><br><span class="line">a.fun(<span class="number">2</span>)  <span class="comment">// 0</span></span><br><span class="line">a.fun(<span class="number">3</span>)  <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = fun(<span class="number">0</span>).fun(<span class="number">1</span>).fun(<span class="number">2</span>).fun(<span class="number">3</span>)  <span class="comment">// undefined 0 1 2</span></span><br><span class="line"><span class="keyword">var</span> c = fun(<span class="number">0</span>).fun(<span class="number">1</span>)  <span class="comment">// undefined 0</span></span><br><span class="line">c.fun(<span class="number">2</span>)  <span class="comment">// 1</span></span><br><span class="line">c.fun(<span class="number">3</span>)  <span class="comment">// 1</span></span><br><span class="line">b.fun()  <span class="comment">// 3</span></span><br><span class="line"><span class="keyword">var</span> d = b.fun()</span><br><span class="line">d.fun()  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://hushiking.github.io/2015/07/19/JavaScript/函数与闭包/一道经典的JS闭包面试题/" data-id="cjvlw5bnj00b4xfq3xr1p5p29" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/闭包/">闭包</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/面试/">面试</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript/JS获取元素计算后属性" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/14/JavaScript/JS获取元素计算后属性/" class="article-date">
  <time datetime="2015-07-14T08:17:45.000Z" itemprop="datePublished">2015-07-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web前端/">web前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/14/JavaScript/JS获取元素计算后属性/">JS 获取元素计算后的属性值</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="获取DOM元素计算后属性"><a href="#获取DOM元素计算后属性" class="headerlink" title="获取DOM元素计算后属性"></a>获取DOM元素计算后属性</h1><p>本文介绍了 JS 获取 DOM 元素计算后属性值的兼容写法，并以之封装了简单的缓动滑动函数。</p>
<h2 id="兼容IE和其他浏览器"><a href="#兼容IE和其他浏览器" class="headerlink" title="兼容IE和其他浏览器"></a>兼容IE和其他浏览器</h2><ol>
<li>IE：元素.currentStyle.属性名称</li>
<li>其他高级浏览器：getComputedStyle(元素).属性名称</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 简单判断</span></span><br><span class="line"><span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>)</span><br><span class="line"><span class="keyword">if</span> (box.currentStyle) &#123;</span><br><span class="line">    alert(box.currentStyle.width)  <span class="comment">// 支持IE</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    alert(getComputedStyle(box).width)  <span class="comment">// 其他</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="简单的封装为函数"><a href="#简单的封装为函数" class="headerlink" title="简单的封装为函数"></a>简单的封装为函数</h2><p>方便调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, attr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.currentStyle) &#123;</span><br><span class="line">        <span class="keyword">return</span> obj.currentStyle[attr]</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getComputedStyle(obj)[attr]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>三元表达式写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, attr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> obj.currentStyle ? obj.currentStyle[attr] : getComputedStyle(obj)[attr]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="应用实例"><a href="#应用实例" class="headerlink" title="应用实例"></a>应用实例</h2><p>缓动滑动函数的实现</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>左右滑动函数<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        #box &#123;</span></span><br><span class="line"><span class="undefined">            position: absolute;</span></span><br><span class="line"><span class="undefined">            width: 80px;</span></span><br><span class="line"><span class="undefined">            height: 80px;</span></span><br><span class="line"><span class="undefined">            left: 20px;</span></span><br><span class="line"><span class="undefined">            top: 50px;</span></span><br><span class="line"><span class="undefined">            background: #f00;</span></span><br><span class="line"><span class="undefined">            color: #fff;</span></span><br><span class="line"><span class="undefined">            font-size: 50px;</span></span><br><span class="line"><span class="undefined">            line-height: 80px;</span></span><br><span class="line"><span class="undefined">            text-align: center;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"向左"</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"向右"</span> <span class="attr">id</span>=<span class="string">"btn2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> oBox = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> oBtn = <span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> oBtn2 = <span class="built_in">document</span>.getElementById(<span class="string">'btn2'</span>)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    oBtn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        move(oBox, <span class="string">'left'</span>, <span class="number">-200</span>)</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    oBtn2.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        move(oBox, <span class="string">'left'</span>, <span class="number">800</span>)</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, attr, target</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">        clearInterval(obj.timer)</span></span><br><span class="line"><span class="javascript">        obj.timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> curr = <span class="built_in">parseInt</span>(getStyle(obj, attr))</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> step = (target - curr) / <span class="number">10</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            step = step &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(step) : <span class="built_in">Math</span>.floor(step)</span></span><br><span class="line"><span class="undefined">            curr += step</span></span><br><span class="line"><span class="javascript">            obj.style[attr] = curr + <span class="string">'px'</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (curr === target) &#123;</span></span><br><span class="line"><span class="undefined">                clearInterval(obj.timer)</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">'curr：'</span> + curr, <span class="string">'target：'</span> + target, <span class="string">'step：'</span> + step)</span></span><br><span class="line"><span class="undefined">        &#125;, 20)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, attr</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> obj.currentStyle ? obj.currentStyle[attr] : getComputedStyle(obj)[attr]</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://hushiking.github.io/2015/07/14/JavaScript/JS获取元素计算后属性/" data-id="cjvlw5bko0039xfq3lzrqt711" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DOM/">DOM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-HTML/DOM事件分级" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/12/HTML/DOM事件分级/" class="article-date">
  <time datetime="2015-07-12T06:21:08.000Z" itemprop="datePublished">2015-07-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web前端/">web前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/12/HTML/DOM事件分级/">DOM 事件分级</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><p>JS 程序使用的是事件驱动的设计模式，即为一个元素添加事件监听函数，当这个元素的相应事件被触发那么其添加的事件监听函数就被调用。事件是 JavaScript 和 HTML 交互基础, 任何文档或者浏览器窗口发生的交互, 都要通过绑定事件进行交互。</p>
<h2 id="DOM0-级"><a href="#DOM0-级" class="headerlink" title="DOM0 级"></a>DOM0 级</h2><p>行为本身：浏览器天生自带的一些行为操作</p>
<p>click, mouseover(mouseenter), mouseout(mouseleave), mousedown, mouseup,mousewhell(鼠标滚轮滚动的事件行为), scroll, resize(window.onresize当前屏幕窗口大小改变的行为), focus, blur(文本框获取焦点和失去焦点), keydown, keyup, keypress, load…(在当前元素的私有属性上存储着呢)</p>
<ul>
<li><p>事件绑定分为两种方式（<strong>内联事件</strong>）：</p>
<ol>
<li><p>在标签内写onclick事件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"myButton"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Press Me"</span> <span class="attr">onclick</span>=<span class="string">"alert('thanks');"</span> &gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在 JS 中写 onclick=function() {} 函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"myButton"</span>).onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'thanks'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<blockquote>
<p>只支持冒泡，不支持捕获；事件函数不能使用闭包或者匿名函数</p>
</blockquote>
<ul>
<li>0级 DOM 多次添加事件，后面添加的事件会覆盖前面的</li>
<li>0级 DOM 取消事件绑定，采用 element.onclick = null</li>
<li>0级 DOM 在事件监听函数中返回 false 可以阻止浏览器执行默认行为</li>
</ul>
<h2 id="DOM2-级"><a href="#DOM2-级" class="headerlink" title="DOM2 级"></a>DOM2 级</h2><p>只用一个监听方法：<code>addEventListener()</code> 和 <code>removeEventListener()</code></p>
<p>有三个参数：</p>
<ol>
<li>第一个参数是事件名（如click）</li>
<li>第二个参数是事件处理程序函数</li>
<li>第三个参数如果是 true 则表示在捕获阶段调用，为 false 表示在冒泡阶段调用</li>
</ol>
<ul>
<li><p>与 DOM0 级事件不同，<code>addEventListener()</code> 可以为元素添加多个事件处理程序，触发时会按照添加顺序依次调用</p>
</li>
<li><p><code>removeEventListener()</code> 不能移除匿名添加的函数</p>
</li>
<li><p>IE8及以下浏览器使用 <code>attachEvent</code> 与 <code>detachEvent</code>，且没有第三个参数（即IE8浏览器只存在事件冒泡）</p>
</li>
</ul>
<blockquote>
<p>只有2级 DOM 包含3个阶段：事件一开始从文档的根节点流向目标对象（事件捕获阶段），然后在目标对向上被触发（处于目标阶段），之后再回溯到文档的根节点（事件冒泡阶段）；事件函数可以是一个闭包或者函数表达式</p>
</blockquote>
<p><strong>注意</strong>：冒泡可以被阻止，捕获不能被阻止。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong><em>点击a后capturing(捕捉)阶段事件传播会从document-&gt;span-&gt;a，然后发生在a，最后bubbling(冒泡)阶段事件传播会从a-&gt;span-&gt;document</em></strong></p>
<ul>
<li>2级 DOM 使用 <code>e.stopPropagation()</code> 阻止事件从当前正在处理它的节点传播（冒泡），IE：e.cacelBubble = true</li>
<li>2级 DOM 使用 <code>e.preventDefault()</code> 阻止浏览器默认行为，IE：e.returnValue = true</li>
<li>2级 DOM 事件绑定中 this 有可能不是指向触发事件的元素，使用 <code>e.currentTarget</code> 表示正在处理事件的节点。如果在 capturing 阶段和冒泡阶段处理事件，这个属性就与 <code>target</code> 属性不同。在事件监听函数中应该用这个属性而不是this。IE：<code>e.srcElement</code>。</li>
</ul>
<h2 id="DOM事件分级比较"><a href="#DOM事件分级比较" class="headerlink" title="DOM事件分级比较"></a>DOM事件分级比较</h2><ol>
<li>DOM0级事件<code>&lt;input type=“button” onclick=“hello()” /&gt;</code>，html 与 js 代码耦合在一起，不利于维护，可以添加多个事件处理程序，如果不想要该事件处理程序，必须从 html 代码在删除事件处理代码。<code>element.onclick=function(){}</code> 属于DOM0级事件，不能添加多个事件处理程序，后面添加的会覆盖前面的。如果不想要了，可以在下面写成 <code>element.onclick=null</code>。</li>
<li>DOM1级主要隐射文档结构，没有事件</li>
<li>DOM2级事件，<code>element.addEventListener(‘click’,fuction(){},false)</code>以及<code>element.removeEventListener(&#39;click&#39;,function(){},false)</code>。注意：DOM2级事件处理程序，函数里面也可以直接用this，this代表的是点击的按钮，比如里面可以写this.value等。</li>
<li>DOM3级事件主要增加了一些事件类型，包括鼠标事件，键盘事件。</li>
</ol>
<h2 id="document-querySelectorAll"><a href="#document-querySelectorAll" class="headerlink" title="document.querySelectorAll"></a>document.querySelectorAll</h2><p><code>document.querySelectorAll(&#39;.classname&#39;)</code>返回的是 NodeList 对象，是静态的，不随文档的更新而变化。但是使用<code>getElementsByName</code>方法返回的也是NodeList对象，但是这个对象的确是动态的。</p>
<p><a href="http://www.cnblogs.com/childsplay/p/5527999.html" target="_blank" rel="noopener">为什么getElementsByTagName()要比querySelectorAll()快很多？</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hushiking.github.io/2015/07/12/HTML/DOM事件分级/" data-id="cjvlw5bjt0019xfq32vyyg29g" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DOM/">DOM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML/">HTML</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript/JSON对象与JSON字符串转化" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/07/JavaScript/JSON对象与JSON字符串转化/" class="article-date">
  <time datetime="2015-07-06T22:45:25.000Z" itemprop="datePublished">2015-07-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web前端/">web前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/07/JavaScript/JSON对象与JSON字符串转化/">JSON 对象与 JSON 字符串相互转化</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="json对象与json格式字符串相互转化"><a href="#json对象与json格式字符串相互转化" class="headerlink" title="json对象与json格式字符串相互转化"></a>json对象与json格式字符串相互转化</h1><blockquote>
<p>普通对象格式的数组可以转化为字符串格式的 json 数组；json 格式的字符串数组也会被解析为普通对象格式的数组</p>
</blockquote>
<h2 id="json对象与普通对象"><a href="#json对象与普通对象" class="headerlink" title="json对象与普通对象"></a>json对象与普通对象</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;<span class="string">"name"</span>:<span class="string">"tom"</span>, <span class="string">"age"</span>:<span class="number">18</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> b = &#123;<span class="attr">name</span>:<span class="string">"tom"</span>, <span class="attr">age</span>:<span class="number">18</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(a));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(b));</span><br><span class="line"></span><br><span class="line"><span class="string">"&#123;"</span>name<span class="string">":"</span>tom<span class="string">","</span>age<span class="string">":18&#125;"</span></span><br><span class="line"><span class="string">"&#123;"</span>name<span class="string">":"</span>tom<span class="string">","</span>age<span class="string">":18&#125;"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>用 <code>JSON.stringify</code> 将一个对象(包括普通对象和 json 对象)解析</li>
<li>结果均为 json 格式字符串</li>
<li>还有<code>[{name:&quot;tom&quot;, age:18}]</code>与<code>[{&quot;name&quot;:&quot;tom&quot;, &quot;age&quot;:18}]</code></li>
<li>均被解析为<code>&quot;[{&quot;name&quot;:&quot;tom&quot;, &quot;age&quot;:18}]&quot;</code></li>
</ul>
<h2 id="json格式字符串"><a href="#json格式字符串" class="headerlink" title="json格式字符串"></a>json格式字符串</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="string">'&#123;"name":"tom","age":18&#125;'</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">'&#123;name:"tom",age:18&#125;'</span>;</span><br><span class="line"><span class="keyword">var</span> str3 = <span class="string">'[&#123;"name":"tom","age":18&#125;]'</span>;</span><br><span class="line"><span class="keyword">var</span> str4 = <span class="string">'[&#123;name:"tom",age:18&#125;]'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">JSON</span>.parse(str1); <span class="comment">// &#123;name: "tom", age: 18&#125;</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(str2); <span class="comment">// 报错,无法解析非json字符串格式</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(str3); <span class="comment">// [&#123;name: "tom", age: 18&#125;]</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(str4); <span class="comment">// 报错,无法解析内部是非json字符串格式的数组</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> json = <span class="string">'[&#123;"title" : "a", "num" : 1&#125;,&#123;"title" : "b", "num" : 2&#125;]'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.parse(json)); <span class="comment">//[&#123;title: "a", num: 1&#125;,&#123;title: "b", num: 2&#125;]</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>JSON.parse()</code> 用于将一个 json 格式的字符串解析为普通对象</li>
<li>包括 json 格式的字符串数组,也被解析为普通对象格式的数组</li>
</ul>
<h2 id="js中的encodeURI和decodeURI方法"><a href="#js中的encodeURI和decodeURI方法" class="headerlink" title="js中的encodeURI和decodeURI方法"></a>js中的encodeURI和decodeURI方法</h2><blockquote>
<p><code>encodeURI</code> 和 <code>decodeURI</code> 是成对来使用的，因为浏览器的地址栏有中文字符的话，可以会出现不可预期的错误，所以可以用 <code>encodeURI</code> 把非英文字符转化为英文编码，<code>decodeURI</code> 可以用来把字符还原回来。<code>encodeURI</code> 方法不会对下列字符进行编码：”:”、”/“、”;” 和 “?”，<code>encodeURIComponent</code> 方法可以对这些字符进行编码。</p>
</blockquote>
<ul>
<li>decodeURI() 方法相当于 java.net.URLDecoder.decode(URIString, “UTF-8”);</li>
<li><p>encodeURI() 方法相当于 java.net.URLEncoder.encode(URIString, “UTF-8”);</p>
</li>
<li><p><strong><em>js字符串中的<code>&#39;\&#39;</code>是表转义的意思,譬如想要表示单个　<code>&#39;</code>,需要使用　<code>\&#39;</code></em></strong></p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hushiking.github.io/2015/07/07/JavaScript/JSON对象与JSON字符串转化/" data-id="cjvlw5bkf002mxfq359fina92" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JSON/">JSON</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Ajax/jsonp跨域访问原理" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/13/Ajax/jsonp跨域访问原理/" class="article-date">
  <time datetime="2015-06-12T22:15:22.000Z" itemprop="datePublished">2015-06-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web前端/">web前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/13/Ajax/jsonp跨域访问原理/">jsonp 跨域访问原理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JS-跨域"><a href="#JS-跨域" class="headerlink" title="JS 跨域"></a>JS 跨域</h1><p>JS 跨域是指通过 JS 在不同的域之间进行数据传输或通信，比如用 Ajax 向一个不同的域请求数据，或者通过 JS 获取页面中不同域的框架中(iframe)的数据。只要协议、域名、端口有任何一个不同，都被当作是不同的域。</p>
<h2 id="同源策略"><a href="#同源策略" class="headerlink" title="同源策略"></a>同源策略</h2><p>同源策略是浏览器的一种安全策略，所谓同源是指域名，协议，端口号完全相同。</p>
<ol>
<li>目的<ul>
<li>保护用户信息安全</li>
<li>假如你的支付宝已经登录了，域名是 <code>a.com</code> ，有一个黑客在自己的页面上（域名是 <code>b.com</code> ）写了一段让你向他的支付宝转账的脚本，如果没有浏览器同源策略，后果无法想象！！！</li>
</ul>
</li>
<li>限制<ul>
<li>cookie、localStorage、IndexDB无法读取</li>
<li>无法操作跨域的 iframe 里面的 DOM 元素</li>
<li>Ajax 请求无法发送</li>
</ul>
</li>
</ol>
<h2 id="何为跨域"><a href="#何为跨域" class="headerlink" title="何为跨域"></a>何为跨域</h2><p>不同源则为跨域，假设当前域名是 <code>http://www.example.com/detail.html</code> ,其中 <code>com</code> 是顶级域名， <code>example</code> 是一级域名， <code>www</code> 是特殊的二级域名。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">http://api.example.com/detail.html         不同源   域名不同</span><br><span class="line">https//www.example.com/detail.html         不同源   协议不同</span><br><span class="line">http://www.example.com:8080/detail.html    不同源   端口不同</span><br><span class="line">http://api.example.com:8080/detail.html    不同源   域名、端口不同</span><br><span class="line">https://api.example.com/detail.html        不同源   协议、域名不同</span><br><span class="line">https://www.example.com:8080/detail.html   不同源   端口、协议不同</span><br><span class="line">http://www.example.com/detail/index.html   同源     只是目录不同</span><br></pre></td></tr></table></figure>
<h3 id="为什么不能跨域？"><a href="#为什么不能跨域？" class="headerlink" title="为什么不能跨域？"></a>为什么不能跨域？</h3><p>出于安全考虑，浏览器禁止跨域访问。</p>
<h2 id="跨域的方式"><a href="#跨域的方式" class="headerlink" title="跨域的方式"></a>跨域的方式</h2><p>目前主流跨域方式有以下几种：</p>
<ol>
<li>jsonp</li>
<li>cors</li>
<li>降域</li>
<li>postMessage</li>
<li>后端代理</li>
</ol>
<h3 id="jsonp-跨域访问了，还安全吗？"><a href="#jsonp-跨域访问了，还安全吗？" class="headerlink" title="jsonp 跨域访问了，还安全吗？"></a>jsonp 跨域访问了，还安全吗？</h3><p>安全不安全是对于服务器而言，你发送了 <code>callback</code> 参数，服务器不返回也就没有了作用， <code>jsonp</code> 是浏览器与服务器双方配合才能实现。所以是安全的。</p>
<h2 id="jsonp-跨域原理"><a href="#jsonp-跨域原理" class="headerlink" title="jsonp 跨域原理"></a>jsonp 跨域原理</h2><p>在 js 中，我们直接用 <code>XMLHttpRequest</code> 请求不同域上的数据时，是不可以的。但是，在页面上引入不同域上的 js 脚本文件却是可以的， <code>jsonp</code> 正是利用这个特性来实现的。</p>
<p>比如，我们有个 index.html 页面，它内部需要通过 <code>Ajax</code> 获取不同域上的 json 数据，假设这个 json 数据的服务器地址是 <code>http://example.com/json.php</code> ，那么 <code>index.html</code> 中的代码可以这样写：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(data)</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> script =<span class="built_in">document</span>.createElement(<span class="string">'script'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="comment">//调用来自example.com下的接口</span></span></span><br><span class="line"><span class="javascript">    script.src=<span class="string">"http://example.com/json.php?callback=getData"</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.head.appendChild(script);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.head.removeChild(script);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>我们可以看到获取数据的地址后面有一个 <code>callback</code> 参数，这个参数可以修改，但是必须保证与请求服务器接口的 <code>callback</code> 参数一致，以便服务器正确解析。如果获取数据的服务器接口不是你自己控制的，就必须按照提供数据的那一方的规定格式来操作，一般习惯都是 <code>callback</code> 。</p>
<p>因为获取数据的地址被当做一个 js 文件引入，所以必须返回一个能执行的 js 文件，所以 json.php 代码可能是这样的：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$callback = $_GET[<span class="string">'callback'</span>];  <span class="comment">// 得到回调函数名称</span></span><br><span class="line">$arr = <span class="keyword">array</span>(<span class="string">"name"</span>=&gt;<span class="string">"xiaoming"</span>, <span class="string">"age"</span>=&gt;<span class="number">18</span>);  <span class="comment">// 需要返回的数据</span></span><br><span class="line">$result = json_encode($arr);  <span class="comment">// 将数组转为json格式 &#123;"name": "xiaoming", "age": 10&#125;</span></span><br><span class="line"><span class="keyword">echo</span> $callback.<span class="string">'('</span>.$result.<span class="string">')'</span>;  <span class="comment">// 返回数据</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
<p>最终 index.html 页面输出结果为：</p>
<p><code>getData({&quot;name&quot;: &quot;xiaoming&quot;, &quot;age&quot;: 10})</code></p>
<p>所以通过 <code>http://example.com/json.php?callback=getData</code> 得到的 js 文件，就是我们之前定义的 getData 函数，并且它的参数就是我们需要的 json 数据，这样我们就跨域获得了我们需要的数据。</p>
<p><strong>简单来说， jsonp 的原理</strong>就是通过 script 标签引入一个 js 文件，这个 js 文件载入成功后会执行我们在 url 参数中指定的函数，并且会把我们需要的 json 数据作为参数传入。所以 <code>jsonp</code> 是需要服务器端的页面进行相应的配合的。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hushiking.github.io/2015/06/13/Ajax/jsonp跨域访问原理/" data-id="cjvlw5bjc0008xfq3g3gkdpmu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/跨域/">跨域</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Ajax/Ajax提交与form表单提交区别" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/05/17/Ajax/Ajax提交与form表单提交区别/" class="article-date">
  <time datetime="2015-05-17T15:09:41.000Z" itemprop="datePublished">2015-05-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web前端/">web前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/17/Ajax/Ajax提交与form表单提交区别/">Ajax 提交与 form 表单提交区别</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Ajax-提交与-form-表单提交"><a href="#Ajax-提交与-form-表单提交" class="headerlink" title="Ajax 提交与 form 表单提交"></a>Ajax 提交与 form 表单提交</h1><p>form 表单提交，更新数据完成后，需要转到一个空白页面再对原页面进行提交后处理；ajax 则不用，可以直接返回原页面进行提交后的处理。可见 ajax 可以比隐藏 form 提交少增加一个页面。</p>
<p>ajax 出于安全性考虑，不能对文件进行操作，所以就不能通过 ajax 来实现文件上传，而通过 form 表单提交则可以实现这个功能，这也是目前用 form 表单提交的主要用途。</p>
<h2 id="Ajax-提交优势"><a href="#Ajax-提交优势" class="headerlink" title="Ajax 提交优势"></a>Ajax 提交优势</h2><ol>
<li>用户对 Web 的体验会更“敏捷”</li>
<li>数据提交页面不会刷新，页面局部更新速度快</li>
<li>网络带宽占用低</li>
</ol>
<p>form 表单提交需要整个页面重绘，为了维持页面用户对表单的状态改变，需要多写不少代码，在控制器和模板之间传递更多参数以保持页面状态。而 ajax 不然，因为页面只是局部更新，不关心也不会影响页面其他部分的内容。</p>
<h2 id="两者区别"><a href="#两者区别" class="headerlink" title="两者区别"></a>两者区别</h2><ol>
<li><p>Ajax 在提交、请求、接收时，都是异步进行的，网页不需要刷新；Form 表单提交则是新建一个页面，即使是提交给自己本身的页面，也需要刷新</p>
</li>
<li><p>Ajax 在提交时，是在后台新建一个请求；Form 表单提交却是放弃本页面，重新发起一个 url 请求</p>
</li>
<li><p>Ajax 必须要使用 JS 来实现，不启用 JS 的浏览器，无法完成该操作；Form 表单提交却是浏览器的本能，无论是否开启JS，都可以提交表单</p>
</li>
<li><p>Ajax 在提交、请求、接收时，整个过程都需要使用程序来对其数据进行处理；Form 表单提交时，却是根据你的表单结构自动完成，不需要代码干预</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hushiking.github.io/2015/05/17/Ajax/Ajax提交与form表单提交区别/" data-id="cjvlw5bj70004xfq33wyu297k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ajax/">Ajax</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/6/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/8/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web前端/">Web前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web前端/">web前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/后端/">后端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/自由随笔/">自由随笔</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书笔记/">读书笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/运维与Linux/">运维与Linux</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ajax/">Ajax</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AngularJS/">AngularJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Array/">Array</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cookie/">Cookie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOM/">DOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Django/">Django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECMAScript/">ECMAScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Error/">Error</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Grammar/">Grammar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/">Mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Promise/">Promise</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RegExp/">RegExp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSI/">SSI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebAPP/">WebAPP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/audio/">audio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cmd/">cmd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6/">es6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/form表单/">form表单</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reduce/">reduce</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/this/">this</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/作用域/">作用域</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/原型/">原型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/原型链/">原型链</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/循环遍历/">循环遍历</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/枚举/">枚举</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/缓存/">缓存</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/跨域/">跨域</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/闭包/">闭包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔/">随笔</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面试/">面试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/音视频/">音视频</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Ajax/" style="font-size: 12.5px;">Ajax</a> <a href="/tags/AngularJS/" style="font-size: 10px;">AngularJS</a> <a href="/tags/Array/" style="font-size: 17.5px;">Array</a> <a href="/tags/CSS/" style="font-size: 12.5px;">CSS</a> <a href="/tags/Cookie/" style="font-size: 10px;">Cookie</a> <a href="/tags/DOM/" style="font-size: 16.25px;">DOM</a> <a href="/tags/Django/" style="font-size: 10px;">Django</a> <a href="/tags/Docker/" style="font-size: 11.25px;">Docker</a> <a href="/tags/ECMAScript/" style="font-size: 11.25px;">ECMAScript</a> <a href="/tags/Error/" style="font-size: 10px;">Error</a> <a href="/tags/Git/" style="font-size: 13.75px;">Git</a> <a href="/tags/Grammar/" style="font-size: 10px;">Grammar</a> <a href="/tags/HTML/" style="font-size: 18.75px;">HTML</a> <a href="/tags/HTTP/" style="font-size: 11.25px;">HTTP</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/JSON/" style="font-size: 10px;">JSON</a> <a href="/tags/Java/" style="font-size: 16.25px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/Linux/" style="font-size: 12.5px;">Linux</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/Node-js/" style="font-size: 11.25px;">Node.js</a> <a href="/tags/PHP/" style="font-size: 10px;">PHP</a> <a href="/tags/Promise/" style="font-size: 11.25px;">Promise</a> <a href="/tags/Python/" style="font-size: 12.5px;">Python</a> <a href="/tags/React/" style="font-size: 16.25px;">React</a> <a href="/tags/RegExp/" style="font-size: 10px;">RegExp</a> <a href="/tags/SSI/" style="font-size: 10px;">SSI</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/WebAPP/" style="font-size: 10px;">WebAPP</a> <a href="/tags/Webpack/" style="font-size: 15px;">Webpack</a> <a href="/tags/audio/" style="font-size: 11.25px;">audio</a> <a href="/tags/cmd/" style="font-size: 10px;">cmd</a> <a href="/tags/es6/" style="font-size: 11.25px;">es6</a> <a href="/tags/form表单/" style="font-size: 10px;">form表单</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/reduce/" style="font-size: 10px;">reduce</a> <a href="/tags/this/" style="font-size: 10px;">this</a> <a href="/tags/作用域/" style="font-size: 10px;">作用域</a> <a href="/tags/原型/" style="font-size: 10px;">原型</a> <a href="/tags/原型链/" style="font-size: 10px;">原型链</a> <a href="/tags/循环遍历/" style="font-size: 10px;">循环遍历</a> <a href="/tags/枚举/" style="font-size: 10px;">枚举</a> <a href="/tags/缓存/" style="font-size: 11.25px;">缓存</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/跨域/" style="font-size: 10px;">跨域</a> <a href="/tags/闭包/" style="font-size: 15px;">闭包</a> <a href="/tags/随笔/" style="font-size: 12.5px;">随笔</a> <a href="/tags/面试/" style="font-size: 13.75px;">面试</a> <a href="/tags/音视频/" style="font-size: 11.25px;">音视频</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">十一月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">十月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">九月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">七月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">六月 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/04/22/HTML/HTML5 Audio兼容问题/">HTML5 Audio兼容问题</a>
          </li>
        
          <li>
            <a href="/2019/03/30/Webpack/webpack中externals用法/">webpack externals 的用法</a>
          </li>
        
          <li>
            <a href="/2019/03/28/Vue/Vue微信网页刷新问题/">Vue 微信网页刷新问题</a>
          </li>
        
          <li>
            <a href="/2019/03/18/JavaScript/JS生成[n,m]随机数/">JS 生成[n, m]随机数</a>
          </li>
        
          <li>
            <a href="/2019/02/09/Vue/Vue使用中遇到的问题/">Vue 使用中遇到的问题</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 化简为凡<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>