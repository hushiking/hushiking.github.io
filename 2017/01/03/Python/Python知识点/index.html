<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.8.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://hushiking.github.io').hostname,
    root: '/',
    scheme: 'Muse',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="总结了 Python 一些用法，不定时更新……">
<meta name="keywords" content="Python">
<meta property="og:type" content="article">
<meta property="og:title" content="Python 相关">
<meta property="og:url" content="http://hushiking.github.io/2017/01/03/Python/Python知识点/index.html">
<meta property="og:site_name" content="化简为凡的小站">
<meta property="og:description" content="总结了 Python 一些用法，不定时更新……">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-10-17T16:14:16.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python 相关">
<meta name="twitter:description" content="总结了 Python 一些用法，不定时更新……">

<link rel="canonical" href="http://hushiking.github.io/2017/01/03/Python/Python知识点/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Python 相关 | 化简为凡的小站</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">化简为凡的小站</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">用生命谱写代码的赞歌</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://hushiking.github.io/2017/01/03/Python/Python知识点/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="化简为凡">
      <meta itemprop="description" content="hello, everyone, I love you!~">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="化简为凡的小站">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python 相关
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-01-03 19:55:36" itemprop="dateCreated datePublished" datetime="2017-01-03T19:55:36+08:00">2017-01-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2017-10-18 00:14:16" itemprop="dateModified" datetime="2017-10-18T00:14:16+08:00">2017-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>
            </span>

          
            <div class="post-description">总结了 Python 一些用法，不定时更新……</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Python学习"><a href="#Python学习" class="headerlink" title="Python学习"></a>Python学习</h1><p>进了一家新公司，后端代码是用 Python 写的，就自己带着学习了一下 Python 语言，总结一些用法，不定时更新……</p>
<h2 id="Python2-和-Python3分别安装pip"><a href="#Python2-和-Python3分别安装pip" class="headerlink" title="Python2 和 Python3分别安装pip"></a>Python2 和 Python3分别安装pip</h2><ul>
<li><code>python -m pip install</code></li>
<li><code>python3 -m pip install</code></li>
</ul>
<h2 id="Python虚拟环境virtualenv"><a href="#Python虚拟环境virtualenv" class="headerlink" title="Python虚拟环境virtualenv"></a>Python虚拟环境virtualenv</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p><code>pip install virtualenv</code></p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>选择一个目录,比如我们把这个工程放在 <code>/path/to/project/spider/</code> 目录下,我们在这个目录下建立一个虚拟环境</p>
<p><code>virtualenv /path/to/project/spider</code></p>
<p>虚拟环境就建立好了。此时可以看到，在这个目录下面会有三个目录被建立:</p>
<ul>
<li>bin</li>
<li>include</li>
<li>lib</li>
</ul>
<h3 id="激活虚拟环境"><a href="#激活虚拟环境" class="headerlink" title="激活虚拟环境"></a>激活虚拟环境</h3><p>在上述目录中</p>
<ul>
<li>bin 目录中包含一些在这个虚拟环境中可用的命令，以及开启虚拟环境的脚本 activate；</li>
<li>include 中包含虚拟环境中的头文件，包括 Python 的头文件；</li>
<li>lib 中就是一些依赖库啦~~</li>
</ul>
<p><code>source /path/to/project/spider/bin/activate</code></p>
<h3 id="接下来就可以使用"><a href="#接下来就可以使用" class="headerlink" title="接下来就可以使用"></a>接下来就可以使用</h3><p>安装工程需要的 <code>requests</code> 库</p>
<p><code>pip install requests</code></p>
<h3 id="退出虚拟环境"><a href="#退出虚拟环境" class="headerlink" title="退出虚拟环境"></a>退出虚拟环境</h3><p><code>deactivate</code></p>
<p><strong><em>补充一句，如果想要删除虚拟环境，只要把这个目录下的 bin、include 和 lib 三个目录删掉就好了。</em></strong></p>
<h2 id="Python简单操作"><a href="#Python简单操作" class="headerlink" title="Python简单操作"></a>Python简单操作</h2><h3 id="if-name-quot-main-quot"><a href="#if-name-quot-main-quot" class="headerlink" title="if __name__ == &quot;__main__&quot;"></a><code>if __name__ == &quot;__main__&quot;</code></h3><ul>
<li><strong>表示当.py文件作为主程序时，调用相应的函数</strong></li>
</ul>
<p>如果.py文件被其他文件引入，不执行对应的函数</p>
<h3 id="Python判断数据类型与提示用户输入"><a href="#Python判断数据类型与提示用户输入" class="headerlink" title="Python判断数据类型与提示用户输入"></a>Python判断数据类型与提示用户输入</h3><h4 id="判断数据类型"><a href="#判断数据类型" class="headerlink" title="判断数据类型"></a>判断数据类型</h4><p><code>type(a)</code>与<code>type(a) is str</code>与<code>isinstance(a, int)</code></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">temp = <span class="string">'18'</span></span><br><span class="line">print(type(temp))</span><br><span class="line">print(type(temp) <span class="keyword">is</span> str)</span><br><span class="line">print(isinstance(temp, int))</span><br></pre></td></tr></table></figure>
<p>结果如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">str</span>'&gt;</span></span><br><span class="line"><span class="class"><span class="title">True</span></span></span><br><span class="line"><span class="class"><span class="title">False</span></span></span><br></pre></td></tr></table></figure>
<h4 id="提示用户输入"><a href="#提示用户输入" class="headerlink" title="提示用户输入"></a>提示用户输入</h4><p>提示用户输入: <code>input(&#39;请输入密码:&#39;)</code>,<strong>用户输入内容均为字符串</strong></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = input(<span class="string">'请输入密码:'</span>)</span><br><span class="line">请输入密码:<span class="number">222222</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'你的密码是%s'</span>%a)</span><br><span class="line">你的密码是<span class="number">222222</span></span><br></pre></td></tr></table></figure>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p><code>//</code>: 取整（地板除）</p>
<p><code>%</code> : 取余</p>
<p><code>and</code>: 相当于js的<code>&amp;&amp;</code></p>
<p><code>or</code>: 相当于js的<code>||</code></p>
<p><code>not</code>: 表示取非</p>
<h3 id="列表操作"><a href="#列表操作" class="headerlink" title="列表操作"></a>列表操作</h3><h4 id="列表推导式-x-for-x-in-args"><a href="#列表推导式-x-for-x-in-args" class="headerlink" title="列表推导式[x for x in args]"></a>列表推导式<code>[x for x in args]</code></h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [x <span class="keyword">for</span> x <span class="keyword">in</span> y]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>append</p>
<ul>
<li>直接在list列表后面追加</li>
<li><strong>只能追加一个元素</strong><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">member = [<span class="string">'舞蹈'</span>, <span class="string">'陆远'</span>, <span class="string">'剑无尘'</span>]</span><br><span class="line">member.append(<span class="string">'云峰'</span>) <span class="comment"># ['舞蹈', '陆远', '剑无尘', '云峰']</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>extend</p>
<ul>
<li>追加list列表<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">member.extend([<span class="string">'沧海'</span>, <span class="string">'傲雪'</span>]) <span class="comment"># ['舞蹈', '陆远', '剑无尘', '云峰', '沧海', '傲雪']</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>insert</p>
<ul>
<li>在列表指定索引位置添加<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">member.insert(<span class="number">1</span>, <span class="string">'瞻园'</span>) <span class="comment"># ['舞蹈', '瞻园', '陆远', '剑无尘', '云峰', '沧海', '傲雪']</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>remove</p>
<ul>
<li>删除元素(知道元素名称就行),<strong>找不到报错</strong><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">member.remove(<span class="string">'剑无尘'</span>) <span class="comment"># ['舞蹈', '瞻园', '陆远', '云峰', '沧海', '傲雪']</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>del</p>
<ul>
<li>del(member[1])等价于del member[1]</li>
<li>del member删除整个列表</li>
</ul>
</li>
<li><p>pop</p>
<ul>
<li>不加参数表示从后面删除一个元素</li>
<li>参数表示从指定索引位置删除元素<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">member.pop(<span class="number">2</span>) <span class="comment"># 删除陆远</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>列表切片(分片)</p>
<ul>
<li>使用冒号获取列表指定位置元素拷贝,原列表不变<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">member[<span class="number">1</span>:<span class="number">3</span>] <span class="comment"># ['瞻园', '云峰']</span></span><br><span class="line">member[:<span class="number">3</span>] <span class="comment"># ['舞蹈', '瞻园', '云峰']</span></span><br><span class="line">member[<span class="number">1</span>:] <span class="comment"># ['瞻园', '云峰', '沧海', '傲雪']</span></span><br><span class="line">member[:] <span class="comment"># ['舞蹈', '瞻园', '云峰', '沧海', '傲雪']</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>列表比较</p>
<ul>
<li>比较列表中的第一个元素,第一个赢了,整个列表就赢了</li>
</ul>
</li>
<li><p>列表相加</p>
<ul>
<li>只有数据类型相同才能相加</li>
<li><strong>原列表不变</strong><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">member + <span class="string">'比利'</span> <span class="comment"># 报错</span></span><br><span class="line">member + [<span class="string">'比利'</span>] <span class="comment"># ['舞蹈', '瞻园', '云峰', '沧海', '傲雪', '比利']</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>列表翻倍</p>
<ul>
<li><strong>原列表不变</strong></li>
<li><code>member * 3</code></li>
<li><code>member *= 2</code></li>
</ul>
</li>
<li><p>成员操作符 <code>in</code> &amp; <code>not in</code></p>
<ul>
<li>适用于一元列表,二元列表里的元素需要list[n]<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'云峰'</span> <span class="keyword">in</span> member <span class="comment"># True</span></span><br><span class="line"><span class="string">'陆云'</span> <span class="keyword">not</span> <span class="keyword">in</span> member <span class="comment"># True</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>列表元素数目统计=&gt;<code>list.count(&#39;123&#39;)</code></p>
</li>
<li>列表元素出现索引位置<ul>
<li><code>list.index(xxx)</code>=&gt;表示从列表起始位置查找,显示第一次找到的索引</li>
<li><code>list.index(xxx, 3, 7)</code>=&gt;表示从指定位置开始查找</li>
<li><strong>找不到会报错</strong></li>
</ul>
</li>
<li>列表排序<ul>
<li><code>list.sort()</code>=&gt;从小到大排序</li>
<li><code>list.sort(reverse=True)</code>=&gt;从大到小排序</li>
</ul>
</li>
<li>列表翻转=&gt;<code>list.reverse()</code></li>
</ul>
<h3 id="元组操作"><a href="#元组操作" class="headerlink" title="元组操作"></a>元组操作</h3><p><strong><em>元组类似于列表,但是其内元素不可改变</em></strong></p>
<ul>
<li>创建元组(逗号是关键)<ul>
<li><code>tuple=(1, 3, 5, 7, 9)</code></li>
<li><code>tuple=()</code>=&gt;空元组</li>
<li><code>tuple=(1)</code>=&gt;整数1</li>
<li><code>tuple=1,</code> || <code>tuple=(1,)</code>=&gt;元组(1)</li>
</ul>
</li>
<li>元组的元素几乎不可以直接删除,可以像列表那样采用切片删除</li>
<li>删除元组<ul>
<li>del tuple</li>
<li>del(tuple)</li>
</ul>
</li>
</ul>
<h3 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h3><ul>
<li>大写与小写–&gt; <a href="http://bbs.fishc.com/forum.php?mod=viewthread&amp;tid=38992&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D403" target="_blank" rel="noopener">字符串方法参考网址</a><ul>
<li><code>capitalize()</code> &amp; <code>casefold()</code></li>
</ul>
</li>
<li><code>center(width)</code>=&gt;字符串居中,使用空格填充至长度width的新字符串</li>
<li><code>count(sub[,start[,end]])</code>=&gt;返回sub在字符串里出现的次数</li>
<li><code>encode(encoding=&#39;utf-8&#39;, errors=&#39;strict&#39;)</code></li>
<li><code>endswith(sub[,start[,end]])</code></li>
<li><code>expandtabs([tabsize=8])</code>=&gt;将字符串中的tab符号(\t)转换为空格,默认8个空格</li>
<li><code>find(sub[,start[,end]])</code>=&gt;返回sub在字符串里的索引值,找不到返回-1</li>
<li><code>index(sub[,start[,end]])</code>=&gt;同find,找不到报异常</li>
<li><code>isalnum()</code></li>
<li><code>isalpha()</code></li>
<li><code>isdecimal()</code>=&gt;十进制</li>
<li><code>isdigital()</code>=&gt;数字</li>
<li><code>islower()</code></li>
<li><code>isnumeric()</code></li>
<li><code>isspace()</code></li>
<li><code>istitle()</code></li>
<li><code>isupper()</code></li>
<li><code>join(sub)</code>=&gt;以sub为分隔符插入到字符串中</li>
<li><code>split()</code>=&gt;找到空格就切</li>
<li><code>strip([chars])</code></li>
<li><code>swapcase()</code>=&gt;翻转大小写</li>
<li><code>translate(str.maketrans(&#39;a&#39;, &#39;b&#39;))</code></li>
</ul>
<h3 id="格式化输出-字符串格式化符号"><a href="#格式化输出-字符串格式化符号" class="headerlink" title="格式化输出(字符串格式化符号%)"></a>格式化输出(字符串格式化符号%)</h3><ul>
<li><p>format –&gt; <a href="http://bbs.fishc.com/forum.php?mod=viewthread&amp;tid=39140&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D403" target="_blank" rel="noopener">字符串格式化符号含义</a></p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"&#123;0&#125; love &#123;1&#125;.&#123;2&#125;"</span>.format(<span class="string">"I"</span>, <span class="string">"FishC"</span>, <span class="string">"com"</span>) <span class="comment"># 'I love FishC.com'</span></span><br><span class="line"><span class="string">"&#123;a&#125; love &#123;b&#125;.&#123;c&#125;"</span>.format(a=<span class="string">"I"</span>, b=<span class="string">"FishC"</span>, c=<span class="string">"com"</span>) <span class="comment"># 'I love FishC.com'</span></span><br><span class="line"><span class="string">"&#123;0&#125; love &#123;b&#125;.&#123;c&#125;"</span>.format(<span class="string">"I"</span>, b=<span class="string">"FishC"</span>, c=<span class="string">"com"</span>) <span class="comment"># 'I love FishC.com'</span></span><br><span class="line"><span class="string">"&#123;a&#125; love &#123;b&#125;.&#123;0&#125;"</span>.format(a=<span class="string">"I"</span>, b=<span class="string">"FishC"</span>, <span class="string">"com"</span>) <span class="comment"># 报错</span></span><br><span class="line"><span class="string">"&#123;0:.1f&#125;&#123;1&#125;"</span>.format(<span class="number">27.699</span>, <span class="string">"GB"</span>) <span class="comment"># '27.7GB' # 冒号后面表示格式化的格式</span></span><br><span class="line"><span class="string">"&#123;&#123;0&#125;&#125;"</span>.format(<span class="string">"不打印"</span>) <span class="comment"># '&#123;0&#125;'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>%c (格式化字符及ASCII码)</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'%a %c %c'</span>%(<span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>) <span class="comment"># '97 b c'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>打印整数(%d)和百分号(%%)</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"his score is %d%%"</span>%<span class="number">24</span>)</span><br><span class="line">his score <span class="keyword">is</span> <span class="number">24</span>%</span><br></pre></td></tr></table></figure>
</li>
<li><p>打印字符串(%s)</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="string">'xiaoming'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"his name is %s"</span>%a)</span><br><span class="line">his name <span class="keyword">is</span> xiaoming</span><br></pre></td></tr></table></figure>
</li>
<li><p>打印浮点数(%f)</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"his height is %f m"</span>%<span class="number">1.83</span>)</span><br><span class="line">his height <span class="keyword">is</span> <span class="number">1.830000</span> m</span><br></pre></td></tr></table></figure>
</li>
<li><p>打印浮点数,指定保留小数点位数(%.2f)</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"his height is %.2f m"</span>%<span class="number">1.83</span>)</span><br><span class="line">his height <span class="keyword">is</span> <span class="number">1.83</span> m</span><br></pre></td></tr></table></figure>
</li>
<li><p>指定占位符宽度</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"Name:%10s Age:%8d Height:%8.2f"</span>%(<span class="string">"Aviad"</span>,<span class="number">25</span>,<span class="number">1.83</span>))</span><br><span class="line">Name:     Aviad Age:      <span class="number">25</span> Height:    <span class="number">1.83</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>指定占位符宽度(左对齐)</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"Name:%-10s Age:%-8d Height:%-8.2f"</span>%(<span class="string">"Aviad"</span>, <span class="number">25</span>, <span class="number">1.83</span>))</span><br><span class="line">Name:Aviad      Age:<span class="number">25</span>       Height:<span class="number">1.83</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>指定占位符(只能用0当占位符?),且字符串无法使用0占位</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> (<span class="string">"Name:%-10s Age:%08d Height:%08.2f"</span>%(<span class="string">"Aviad"</span>,<span class="number">25</span>,<span class="number">1.83</span>))</span><br><span class="line">Name:Aviad      Age:<span class="number">00000025</span> Height:<span class="number">00001.83</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>科学计数法(保留小数点位数科学计数法)</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>format(<span class="number">0.0015</span>,<span class="string">'.5e'</span>)</span><br><span class="line"><span class="string">'1.50000e-03'</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="列表、元组和字符串共同点-可统称为序列"><a href="#列表、元组和字符串共同点-可统称为序列" class="headerlink" title="列表、元组和字符串共同点(可统称为序列)"></a>列表、元组和字符串共同点(可统称为序列)</h3><p>三者统称为<strong><em>序列</em></strong>，下面介绍几个内置函数：</p>
<ul>
<li><code>list([iterable])</code>=&gt;把一个可迭代对象转化为列表</li>
<li><code>tuple([iterable])</code>=&gt;转化为元组</li>
<li><code>str(object)</code>=&gt;把obj对象转化为字符串</li>
<li><code>len()</code> =&gt; 返回序列长度</li>
<li><code>max()</code> =&gt; 返回序列或者参数集合中最大值，同理还有<code>min()</code></li>
<li><code>sum(iterable[,start])</code></li>
<li><code>sorted()</code></li>
<li><code>reversed()</code> =&gt; 返回一个迭代器对象，可使用list转化</li>
<li><code>enumerate()</code> =&gt; 返回一个迭代器对象，可使用list转化</li>
<li><code>zip(a, b)</code> =&gt; 将a与b中元素一一对应拼接为tuple类型，例如<code>list(zip(&#39;123456789&#39;, &#39;56789&#39;))</code></li>
</ul>
<h3 id="字典-dict"><a href="#字典-dict" class="headerlink" title="字典(dict)"></a>字典(dict)</h3><ul>
<li>类似于js的对象，设置本来不存在的键会自动创建</li>
<li><p>dict(mapping) –&gt; a mapping object’s (key, value) pairs</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1 = dict(((<span class="string">'a'</span>, <span class="number">1</span>), (<span class="string">'b'</span>, <span class="number">2</span>), (<span class="string">'c'</span>, <span class="number">3</span>)))</span><br><span class="line"><span class="comment"># dict接收一个参数,可以将映射转化为字典</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1</span><br><span class="line">&#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict2 = dict(([<span class="string">'d'</span>,<span class="number">4</span>], [<span class="string">'e'</span>,<span class="number">5</span>], [<span class="string">'f'</span>,<span class="number">6</span>]))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict2</span><br><span class="line">&#123;<span class="string">'d'</span>: <span class="number">4</span>, <span class="string">'e'</span>: <span class="number">5</span>, <span class="string">'f'</span>: <span class="number">6</span>&#125;</span><br><span class="line"><span class="comment"># 以可迭代对象方式构造字典</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict3 = dict([[<span class="string">'g'</span>,<span class="number">7</span>],[<span class="string">'h'</span>,<span class="number">8</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict3</span><br><span class="line">&#123;<span class="string">'g'</span>: <span class="number">7</span>, <span class="string">'h'</span>: <span class="number">8</span>&#125;</span><br><span class="line"><span class="comment"># 以函数的可变参数形式(键值对)构造字典</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict4 = dict(one = <span class="string">'hello'</span>, two = <span class="string">'man'</span> , three = <span class="string">'how are you'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict4</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="string">'hello'</span>, <span class="string">'two'</span>: <span class="string">'man'</span>, <span class="string">'three'</span>: <span class="string">'how are you'</span>&#125;</span><br><span class="line"><span class="comment"># 以映射函数方式构造字典</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict(zip([<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]))</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'three'</span>: <span class="number">3</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>json字符串转化为字典</p>
<ul>
<li><p>eval() 或 exec()</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>user</span><br><span class="line"><span class="string">"&#123;'name' : 'jim', 'sex' : 'male', 'age': 18&#125;"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=eval(user)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">&#123;<span class="string">'age'</span>: <span class="number">18</span>, <span class="string">'name'</span>: <span class="string">'jim'</span>, <span class="string">'sex'</span>: <span class="string">'male'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>exec(<span class="string">"c="</span>+user)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">&#123;<span class="string">'age'</span>: <span class="number">18</span>, <span class="string">'name'</span>: <span class="string">'jim'</span>, <span class="string">'sex'</span>: <span class="string">'male'</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>json.loads() –&gt; json字符串转python字典</p>
</li>
<li>json.dumps() –&gt; python对象转json字符串</li>
</ul>
</li>
</ul>
<h4 id="字典常用方法"><a href="#字典常用方法" class="headerlink" title="字典常用方法"></a>字典常用方法</h4><ul>
<li>fromkeys</li>
<li>keys/values/items</li>
<li>get</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fromkeys(iterable, value=None)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict.fromkeys((<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>))</span><br><span class="line">&#123;<span class="string">'a'</span>: <span class="literal">None</span>, <span class="string">'b'</span>: <span class="literal">None</span>, <span class="string">'c'</span>: <span class="literal">None</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict.fromkeys((<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>), <span class="string">'school'</span>)</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="string">'school'</span>, <span class="string">'two'</span>: <span class="string">'school'</span>, <span class="string">'three'</span>: <span class="string">'school'</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1 = dict.fromkeys(range(<span class="number">10</span>), <span class="string">'赞'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1</span><br><span class="line">&#123;<span class="number">0</span>: <span class="string">'赞'</span>, <span class="number">1</span>: <span class="string">'赞'</span>, <span class="number">2</span>: <span class="string">'赞'</span>, <span class="number">3</span>: <span class="string">'赞'</span>, <span class="number">4</span>: <span class="string">'赞'</span>, <span class="number">5</span>: <span class="string">'赞'</span>, <span class="number">6</span>: <span class="string">'赞'</span>, <span class="number">7</span>: <span class="string">'赞'</span>, <span class="number">8</span>: <span class="string">'赞'</span>, <span class="number">9</span>: <span class="string">'赞'</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># fromkeys修改字典会返回新的字典,不影响原有字典</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1.fromkeys((<span class="number">1</span>, <span class="number">3</span>), <span class="string">'不攒'</span>)</span><br><span class="line">&#123;<span class="number">1</span>: <span class="string">'不攒'</span>, <span class="number">3</span>: <span class="string">'不攒'</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> key <span class="keyword">in</span> dict1.keys():</span><br><span class="line"><span class="meta">... </span>    print(key)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> value <span class="keyword">in</span> dict1.values():</span><br><span class="line"><span class="meta">... </span> print(value)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> item <span class="keyword">in</span> dict1.items():</span><br><span class="line"><span class="meta">... </span> print(item)</span><br><span class="line">...</span><br><span class="line">(<span class="number">0</span>, <span class="string">'赞'</span>)</span><br><span class="line">(<span class="number">1</span>, <span class="string">'赞'</span>)</span><br><span class="line">(<span class="number">2</span>, <span class="string">'赞'</span>)</span><br><span class="line">(<span class="number">3</span>, <span class="string">'赞'</span>)</span><br><span class="line">(<span class="number">4</span>, <span class="string">'赞'</span>)</span><br><span class="line">(<span class="number">5</span>, <span class="string">'赞'</span>)</span><br><span class="line">(<span class="number">6</span>, <span class="string">'赞'</span>)</span><br><span class="line">(<span class="number">7</span>, <span class="string">'赞'</span>)</span><br><span class="line">(<span class="number">8</span>, <span class="string">'赞'</span>)</span><br><span class="line">(<span class="number">9</span>, <span class="string">'赞'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1[<span class="number">9</span>]</span><br><span class="line"><span class="string">'赞'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1[<span class="number">10</span>] <span class="comment"># 报错keyError</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1.get(<span class="number">9</span>)</span><br><span class="line"><span class="string">'赞'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(dict1.get(<span class="number">10</span>)) <span class="comment"># 找不到索引是返回None</span></span><br><span class="line"><span class="literal">None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1.get(<span class="number">10</span>, <span class="string">'找不到'</span>) <span class="comment"># 也可以自己设置'找不到'作为返回值</span></span><br><span class="line"><span class="string">'找不到'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>清空字典 clear</li>
<li>浅拷贝 copy</li>
<li>弹出指定值 pop(key)</li>
<li><p>弹出最后一个值 popitem</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1 = &#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'three'</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1.clear()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict1</span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 浅拷贝内存地址发生了变化,a与c相同,指向同一内存地址,b不同于a和c</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = &#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'three'</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = a.copy()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = a</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'three'</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'three'</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'three'</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(a)</span><br><span class="line"><span class="number">4329539984</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(b)</span><br><span class="line"><span class="number">4329538328</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(c)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改c,a会跟着变化,b不变</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c[<span class="string">"four"</span>] = <span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'three'</span>: <span class="number">3</span>, <span class="string">'four'</span>: <span class="number">4</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'three'</span>: <span class="number">3</span>, <span class="string">'four'</span>: <span class="number">4</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'three'</span>: <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 弹出指定值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.pop(<span class="string">'three'</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'four'</span>: <span class="number">4</span>&#125;</span><br><span class="line"><span class="comment"># 弹出最后一项</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.popitem()</span><br><span class="line">(<span class="string">'four'</span>, <span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>setdefault –&gt; 设置默认值</p>
</li>
<li>update(dict) –&gt; 更新字典值  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.setdefault(<span class="string">'小白'</span>, <span class="number">6</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'小白'</span>: <span class="number">6</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.setdefault(<span class="string">'红豆'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'小白'</span>: <span class="number">6</span>, <span class="string">'红豆'</span>: <span class="literal">None</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.update(&#123;<span class="string">'小白'</span>: <span class="string">'够'</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'小白'</span>: <span class="string">'够'</span>, <span class="string">'红豆'</span>: <span class="literal">None</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="集合-set"><a href="#集合-set" class="headerlink" title="集合(set)"></a>集合(set)</h3><ul>
<li><p>集合内元素唯一，利用该性质可以给list(列表)去重</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 利用集合唯一性去重</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>num = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>new_num = list(set(num))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>new_num</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 普通方法去重</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>temp = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> item <span class="keyword">in</span> num:</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">if</span> item <span class="keyword">not</span> <span class="keyword">in</span> temp:</span><br><span class="line"><span class="meta">... </span>        temp.append(item)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>temp</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>集合类型内建方法–&gt; <a href="http://bbs.fishc.com/forum.php?mod=viewthread&amp;tid=45276&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D403" target="_blank" rel="noopener">参考网址</a></p>
<ul>
<li><code>add</code></li>
<li><code>remove(如果删除对象不存在,报错)</code></li>
<li><code>discard(删除对象不存在没事)</code></li>
<li><code>pop, clear</code></li>
</ul>
</li>
<li>不可变集合  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>alpha = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alpha.add(<span class="number">9</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>alpha</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>beta = frozenset(&#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>beta.add(<span class="number">10</span>) <span class="comment"># 报错，frozenset没有add方法</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><p><code>for xx in aaa:</code>: 遍历aaa</p>
<p><code>range([start,] stop[, step=1])</code>: 内置函数，range[2,5]表示从2到5的整数，不包括5</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(range(<span class="number">5</span>)) <span class="comment"># [0, 1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>
<h3 id="Python导入模块与包"><a href="#Python导入模块与包" class="headerlink" title="Python导入模块与包"></a>Python导入模块与包</h3><h4 id="导入模块"><a href="#导入模块" class="headerlink" title="导入模块"></a>导入模块</h4><ol>
<li>import 模块名</li>
<li>form 模块名 import 函数名</li>
<li>import 模块名 as 新名字</li>
</ol>
<h4 id="搜索路径"><a href="#搜索路径" class="headerlink" title="搜索路径"></a>搜索路径</h4><p>原始python包搜索路径如下:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.path</span><br><span class="line">[<span class="string">''</span>, <span class="string">'/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python36.zip'</span>,</span><br><span class="line"><span class="string">'/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6'</span>,</span><br><span class="line"><span class="string">'/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload'</span>,</span><br><span class="line"><span class="string">'/usr/local/lib/python3.6/site-packages'</span>]</span><br></pre></td></tr></table></figure>
<p>搜索包的路径可以增加, 例如</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sys.path.append(<span class="string">'/usr/local/add'</span>)</span><br></pre></td></tr></table></figure>
<h4 id="导入包"><a href="#导入包" class="headerlink" title="导入包"></a>导入包</h4><p><strong><em>.代表当前目录，..代表上一层目录，…代表上上层目录。</em></strong></p>
<p>例如：在模块A.B.C中的代码:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> D     <span class="comment"># 导入A.B.D</span></span><br><span class="line"><span class="keyword">from</span> .. <span class="keyword">import</span> E    <span class="comment"># 导入A.E</span></span><br><span class="line"><span class="keyword">from</span> ..F <span class="keyword">import</span> G   <span class="comment"># 导入A.F.G，.. 和 F是连着的，中间没有空格</span></span><br></pre></td></tr></table></figure>
<h3 id="Python内建函数-BIF-build-in-function-与模块"><a href="#Python内建函数-BIF-build-in-function-与模块" class="headerlink" title="Python内建函数(BIF: build in function)与模块"></a>Python内建函数(BIF: build in function)与模块</h3><ul>
<li><code>range(1, 10)</code><ul>
<li><code>for i in range(1, 10)</code>：表示i从1循环到9, 不包括10</li>
</ul>
</li>
<li><code>issubclass(B, A)</code> –&gt; B是否是A的子类 ==&gt; 自身是自身的子类<code>issubclass(B, B)</code> –&gt;True<ul>
<li>第二个参数可以接收元组</li>
</ul>
</li>
<li><code>isinstance(B, A)</code> –&gt; B是否是A的实例对象<ul>
<li>第二个参数可以接收元组</li>
</ul>
</li>
<li><code>hasattr(object, attr)</code> –&gt; 第二个参数用字符串</li>
<li><code>getattr(object, attr[, default])</code> –&gt; 第三个参数可以设置不存在属性的默认值</li>
<li><code>setattr(object, attr[, value])</code> –&gt; 设置属性</li>
<li><code>delattr(object, attr)</code> –&gt; 删除属性</li>
<li><code>property(getattr, setattr, delattr)</code></li>
<li>random模块</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">50</span>):</span><br><span class="line">    print(random.randint(<span class="number">1</span>, <span class="number">10</span>), i)  <span class="comment"># 返回1, 10之间的随机整数, 包括1, 10</span></span><br></pre></td></tr></table></figure>
<ul>
<li>os模块<ul>
<li>操作文件、文件夹和系统分隔符等</li>
<li><a href="http://bbs.fishc.com/forum.php?mod=viewthread&amp;tid=45512&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D403" target="_blank" rel="noopener">os模块及os.path模块参考网址</a></li>
</ul>
</li>
<li>os.path模块<ul>
<li>python路径操作模块</li>
<li><code>os.path.basename</code></li>
<li><code>os.path.dirname</code></li>
</ul>
</li>
<li>pickle模块  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">my_list = [<span class="string">'xyz'</span>, <span class="number">123</span>, <span class="string">'bbc'</span>, [<span class="string">'hello'</span>, <span class="string">'lady'</span>]]</span><br><span class="line">pkl_file = open(<span class="string">'my_list.pkl'</span>, <span class="string">'wb'</span>)  <span class="comment"># 以二进制方式打开文件</span></span><br><span class="line">pickle.dump(my_list, pkl_file)  <span class="comment"># 将数据转化为二进制存入</span></span><br><span class="line">pkl_file.close</span><br><span class="line">pkl_file = open(<span class="string">'my_list.pkl'</span>, <span class="string">'rb'</span>)  <span class="comment"># 以只读方式打开二进制文件</span></span><br><span class="line">my_list2 = pickle.load(pkl_file)  <span class="comment"># 将二进制文件转换为原始数据</span></span><br><span class="line">print(my_list2)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Python普通函数"><a href="#Python普通函数" class="headerlink" title="Python普通函数"></a>Python普通函数</h3><h4 id="函数返回值"><a href="#函数返回值" class="headerlink" title="函数返回值"></a>函数返回值</h4><blockquote>
<p>如果python函数没有return语句，默认返回None对象<br>不要在函数中试图定义或修改全局变量的值，否则python会新建一个与全局变量名字相同的局部变量代替(屏蔽保护全局变量)<br>在函数内部使用global关键字修饰需要修改的全局变量，调用函数，全局变量发生改变</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">display</span><span class="params">()</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">global</span> count</span><br><span class="line"><span class="meta">... </span>    count = <span class="number">99</span></span><br><span class="line"><span class="meta">... </span>    print(count)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(count)</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>display()</span><br><span class="line"><span class="number">99</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(count)</span><br><span class="line"><span class="number">99</span></span><br></pre></td></tr></table></figure>
<ul>
<li>lambda表达式</li>
</ul>
<p><code>lambda x : 2 * x + 1</code>相当于定义了函数，冒号前面是参数，后面是返回值</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">ds</span><span class="params">(x)</span>:</span></span><br><span class="line"><span class="meta">... </span> <span class="keyword">return</span> <span class="number">2</span> * x + <span class="number">1</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ds(<span class="number">5</span>)</span><br><span class="line"><span class="number">11</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>g = <span class="keyword">lambda</span> x : <span class="number">2</span> * x + <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>g(<span class="number">5</span>)</span><br><span class="line"><span class="number">11</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>默认参数</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(a=<span class="string">"apple"</span>, b=<span class="string">"banana"</span>)</span>:</span></span><br><span class="line"><span class="meta">... </span>    print(<span class="string">"正在吃"</span> + a, b)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>eat(<span class="string">"pear"</span>, <span class="string">"peach"</span>)</span><br><span class="line">正在吃pear peach</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>eat()</span><br><span class="line">正在吃apple banana</span><br></pre></td></tr></table></figure>
</li>
<li><p>关键字参数</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">write</span><span class="params">(name, address)</span>:</span></span><br><span class="line"><span class="meta">... </span>    print(name + <span class="string">"在"</span> + address)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>write(<span class="string">"小明"</span>, <span class="string">"杭州"</span>)</span><br><span class="line">小明在杭州</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>write(address = <span class="string">"武汉"</span>, name = <span class="string">"小萌"</span>)</span><br><span class="line">小萌在武汉</span><br></pre></td></tr></table></figure>
</li>
<li><p>可变参数</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(*params)</span>:</span></span><br><span class="line"><span class="meta">... </span>    print(<span class="string">"参数长度是:"</span>, len(params))</span><br><span class="line"><span class="meta">... </span>    print(<span class="string">"第三个参数是:"</span>, params[<span class="number">2</span>])</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test(<span class="string">"今天"</span>, <span class="string">"明天"</span>, <span class="string">"后天"</span>, <span class="string">"大后天"</span>, <span class="string">"大大后天"</span>)</span><br><span class="line">参数长度是: <span class="number">5</span></span><br><span class="line">第三个参数是: 后天</span><br><span class="line"><span class="comment"># 可变参数后面如果有其他函数,建议设置成默认函数,否则需要使用关键字参数获得</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">(*params, extra=<span class="string">"萨瓦迪卡"</span>)</span>:</span></span><br><span class="line"><span class="meta">... </span>    print(<span class="string">"参数长度是:"</span>, len(params))</span><br><span class="line"><span class="meta">... </span>    print(<span class="string">"其他参数是:"</span>, extra)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hello(<span class="string">"hi"</span>, <span class="string">"hello"</span>, <span class="string">"你好"</span>)</span><br><span class="line">参数长度是: <span class="number">3</span></span><br><span class="line">其他参数是: 萨瓦迪</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">(*params, extra)</span>:</span></span><br><span class="line"><span class="meta">... </span>    print(<span class="string">"参数长度是:"</span>, len(params))</span><br><span class="line"><span class="meta">... </span>    print(<span class="string">"其他参数是:"</span>, extra)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hello(<span class="string">"hi"</span>, <span class="string">"hello"</span>, <span class="string">"你好"</span>, <span class="string">"萨瓦迪卡"</span>, extra=<span class="string">"阿妮哈赛呦"</span>)</span><br><span class="line">参数长度是: <span class="number">4</span></span><br><span class="line">其他参数是: 阿妮哈赛呦</span><br></pre></td></tr></table></figure>
</li>
<li><p>内嵌函数和闭包</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line"><span class="meta">... </span>    x = <span class="number">5</span></span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">f2</span><span class="params">()</span>:</span></span><br><span class="line"><span class="meta">... </span>        x *= x</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> x</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> f2()</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f1() <span class="comment"># 报错,局部变量x未定义</span></span><br><span class="line"><span class="comment"># UnboundLocalError: local variable 'x' referenced before assignment</span></span><br></pre></td></tr></table></figure>
<p>  解决办法1(Python2.0)：</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line"><span class="meta">... </span>    x = [<span class="number">5</span>]</span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">f2</span><span class="params">()</span>:</span></span><br><span class="line"><span class="meta">... </span>        x[<span class="number">0</span>] *= x[<span class="number">0</span>]</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> x[<span class="number">0</span>]</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> f2()</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f1()</span><br><span class="line"><span class="number">25</span></span><br></pre></td></tr></table></figure>
<p>  解决方法2(Python3.0) –&gt; nonlocal关键字：</p>
  <figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line"><span class="meta">... </span>    x = <span class="number">5</span></span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">f2</span><span class="params">()</span>:</span></span><br><span class="line"><span class="meta">... </span>        <span class="keyword">nonlocal</span> x</span><br><span class="line"><span class="meta">... </span>        x *= x</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> x</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> f2()</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f1()</span><br><span class="line"><span class="number">25</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>两个牛逼的BIF(内置函数 build in function)</p>
<ul>
<li><p>filter(function or None, iterable) –&gt; filter object</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一个参数为None,过滤结果为false的值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(filter(<span class="literal">None</span>, (<span class="number">1</span>, <span class="number">0</span>, <span class="literal">False</span>, <span class="literal">True</span>)))</span><br><span class="line">[<span class="number">1</span>, <span class="literal">True</span>]</span><br><span class="line"><span class="comment"># 第一个参数为函数,过滤返回结果为false的数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">odd</span><span class="params">(x)</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> x % <span class="number">2</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>temp = range(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>show = filter(odd, temp)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(show)</span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="comment"># 上述函数简便写法</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(filter(<span class="keyword">lambda</span> x : x % <span class="number">2</span>, range(<span class="number">10</span>)))</span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>map(func, *iterables) –&gt; map object</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(map(<span class="keyword">lambda</span> x : x * <span class="number">2</span>, range(<span class="number">10</span>)))</span><br><span class="line">[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">18</span>]</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>递归调用</p>
<ul>
<li><p>设置递归深度</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.setrecursionlimit(<span class="number">100000</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>阶乘的非递归版本实现：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorial</span><span class="params">(n)</span>:</span></span><br><span class="line">  result = n</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">    result *= i</span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">num = int(input(<span class="string">"请输入一个正整数:"</span>))</span><br><span class="line">result = factorial(num)</span><br><span class="line">print(<span class="string">"%d 的阶乘是: %d"</span> % (num, result))</span><br></pre></td></tr></table></figure>
</li>
<li><p>阶乘的递归实现</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorial</span><span class="params">(n)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">return</span> n * factorial(n - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">num = int(input(<span class="string">"请输入一个正整数:"</span>))</span><br><span class="line">result = factorial(num)</span><br><span class="line">print(<span class="string">"%d 的阶乘是: %d"</span> % (num, result))</span><br></pre></td></tr></table></figure>
</li>
<li><p>斐波那契数列非递归实现:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fibonacci</span><span class="params">(n)</span>:</span></span><br><span class="line">  n1 = <span class="number">1</span></span><br><span class="line">  n2 = <span class="number">1</span></span><br><span class="line">  n3 = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> n &lt; <span class="number">1</span>:</span><br><span class="line">    print(<span class="string">"输入有误!"</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (n - <span class="number">2</span>) &gt; <span class="number">0</span>:</span><br><span class="line">    n3 = n2 + n1</span><br><span class="line">    n1 = n2</span><br><span class="line">    n2 = n3</span><br><span class="line">    n -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> n3</span><br><span class="line"></span><br><span class="line">result = fibonacci(<span class="number">20</span>)</span><br><span class="line"><span class="keyword">if</span> result != <span class="number">-1</span>:</span><br><span class="line">  print(<span class="string">"总共有%d对兔子诞生~"</span> % result)</span><br></pre></td></tr></table></figure>
</li>
<li><p>斐波那契数列递归实现:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fibonacci</span><span class="params">(n)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> n &lt; <span class="number">1</span>:</span><br><span class="line">    print(<span class="string">"输入有误!"</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">1</span> <span class="keyword">or</span> n == <span class="number">2</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">return</span> fibonacci(n - <span class="number">1</span>) + fibonacci(n - <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">result = fibonacci(<span class="number">20</span>)</span><br><span class="line"><span class="keyword">if</span> result != <span class="number">-1</span>:</span><br><span class="line">  print(<span class="string">"总共有%d对兔子诞生~"</span> % result)</span><br></pre></td></tr></table></figure>
</li>
<li><p>汉诺塔递归实现</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hanoi</span><span class="params">(n, x, y, z)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> n &lt; <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">    print(x, <span class="string">'--&gt;'</span>, z)</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    hanoi(n - <span class="number">1</span>, x, z, y) <span class="comment"># 将前n-1个盘子从x移动到y上</span></span><br><span class="line">    print(x, <span class="string">'--&gt;'</span>, z) <span class="comment"># 将最底下的最后一个盘子从x移动到z上</span></span><br><span class="line">    hanoi(n - <span class="number">1</span>, y, x, z)<span class="comment"># 将y上的n-1个盘子移动到z上</span></span><br><span class="line"></span><br><span class="line">n = int(input(<span class="string">"请输入汉诺塔的层数:"</span>))</span><br><span class="line">hanoi(n, <span class="string">'X'</span>, <span class="string">'Y'</span>, <span class="string">'Z'</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="Python文件读写"><a href="#Python文件读写" class="headerlink" title="Python文件读写"></a>Python文件读写</h3><ul>
<li><p>读取文件–&gt; <a href="http://bbs.fishc.com/forum.php?mod=viewthread&amp;tid=45279&amp;extra=page%3D1%26filter%3Dtypeid%26typeid%3D403" target="_blank" rel="noopener">参考网址</a></p>
<ul>
<li>打开模式<ul>
<li><code>&#39;r&#39;</code> –&gt; 只读方式(默认)</li>
<li><code>&#39;w&#39;</code> –&gt; 写入方式打开，会覆盖已存在的文件(用于写入文件)</li>
<li><code>&#39;a&#39;</code> –&gt; 写入模式打开文件,如果文件存在,则在末尾追加<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = open(<span class="string">'test.txt'</span>) <span class="comment"># 以只读方式打开文件</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(f) <span class="comment"># 打开的文件流可以序列化</span></span><br><span class="line">[<span class="string">'hello my name is liming\n'</span>, <span class="string">'where are you from\n'</span>, <span class="string">'i am from america\n'</span>]</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>文件对象方法</p>
<ul>
<li><code>f.close()</code> –&gt; 关闭文件流</li>
<li><code>f.read([size=-1])</code> –&gt; 从文件流中读取size个字符, 当未给定size或给定负值, 读取剩余的所有字符</li>
<li><code>f.readline([size=-1])</code> –&gt; 读取一行(遇到<code>\n</code>和<code>EOF</code>结束), 如果定义了size，有可能返回的只是一行的一部分</li>
<li><code>f.readlines([size=-1])</code> –&gt; 把文件每一行作为一个list的一个成员，并返回这个list, 它的内部是通过循环调用readline()来实现的. 如果提供size参数，size是表示读取内容的总长，也就是说可能只读到文件的一部分</li>
<li><code>f.write(str)</code> –&gt; 将字符串写入文件, write()并不会在str后加上一个换行符</li>
<li><code>f.writelines(seq)</code> –&gt; 向文件中写入字符串序列seq(list, tuple, str), seq应该是一个返回字符串的可迭代对象. 这个函数也只是忠实地写入，不会在每行后面加上任何东西</li>
<li><code>f.seek(offset, from)</code> –&gt; 在文件中移动文件指针, 从from(0代表文件起始位置, 1代表当前位置, 2代表文件末尾)偏移offset个字节</li>
<li><code>f.tell()</code> –&gt; 返回当前在文件中的位置<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">f = open(<span class="string">'test.txt'</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">  print(line) <span class="comment"># 直接读取文件流</span></span><br><span class="line"></span><br><span class="line">f.seek(<span class="number">10</span>, <span class="number">0</span>) <span class="comment"># 定位文件指针</span></span><br><span class="line">print(f) <span class="comment"># 打印File文本对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># lines = f.readline(100)</span></span><br><span class="line"><span class="comment"># print(lines)</span></span><br><span class="line"></span><br><span class="line">lines = list(f) <span class="comment"># 将文件流(iterable)转化为list</span></span><br><span class="line">print(lines)</span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">  count += <span class="number">1</span></span><br><span class="line">  print(<span class="string">'第%d行:'</span> % count, line)</span><br><span class="line"></span><br><span class="line">f.close() <span class="comment"># 关闭文件流</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>一个Python文件读写任务</p>
<ul>
<li><p>文本文件molest.txt(调戏), 任务是将其中小甲鱼和小客服的三次对话分别读出来, 每次对话分为boy*.txt和girl*.txt</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">小客服: 小甲鱼, 今天有客服问你有没有女朋友?</span><br><span class="line">小甲鱼: 咦??</span><br><span class="line">小客服: 我跟她说了你已经有女朋友了!</span><br><span class="line">小甲鱼: ......</span><br><span class="line">==========</span><br><span class="line">小客服: 小甲鱼, 有个好评很好笑哈.</span><br><span class="line">小甲鱼: 哦?</span><br><span class="line">小客服: <span class="string">"有了小甲鱼, 妈妈再也不用担心我的学习了~"</span></span><br><span class="line">小甲鱼: 哈哈哈.</span><br><span class="line">==========</span><br><span class="line">小客服: 小甲鱼, 今天一个会员想找你.</span><br><span class="line">小甲鱼: 哦? 什么事?</span><br><span class="line">小客服: 他说他妈喊他回家吃饭.</span><br><span class="line">小甲鱼: 滚!</span><br></pre></td></tr></table></figure>
</li>
<li><p>代码如下</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_file</span><span class="params">(boy, girl, count)</span>:</span></span><br><span class="line">file_name_boy = <span class="string">'boy_%d.txt'</span> % count</span><br><span class="line">file_name_girl = <span class="string">'girl_%d.txt'</span> % count</span><br><span class="line"></span><br><span class="line">boy_file = open(file_name_boy, <span class="string">'w'</span>)</span><br><span class="line">girl_file = open(file_name_girl, <span class="string">'w'</span>)</span><br><span class="line"></span><br><span class="line">boy_file.writelines(boy)</span><br><span class="line">girl_file.writelines(girl)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以'====='分割对话</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">split_file</span><span class="params">(file_name)</span>:</span></span><br><span class="line">    f = open(file_name)</span><br><span class="line"></span><br><span class="line">    boy = []</span><br><span class="line">    girl = []</span><br><span class="line">    count = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> each_line <span class="keyword">in</span> f:</span><br><span class="line">        <span class="keyword">if</span> each_line[:<span class="number">5</span>] != <span class="string">'====='</span>:</span><br><span class="line">            (role, line_say) = each_line.split(<span class="string">':'</span>, <span class="number">1</span>) <span class="comment"># 每一行按照冒号分割说话人和说话内容, 一次即可</span></span><br><span class="line">            <span class="keyword">if</span> role == <span class="string">'小甲鱼'</span>:</span><br><span class="line">                boy.append(line_say.lstrip())</span><br><span class="line">            <span class="keyword">if</span> role == <span class="string">'小客服'</span>:</span><br><span class="line">                girl.append(line_say.lstrip())</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            save_file(boy, girl, count) <span class="comment"># 存储说话内容</span></span><br><span class="line"></span><br><span class="line">            boy = []</span><br><span class="line">            girl = []</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    save_file(boy, girl, count)</span><br><span class="line"></span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line">split_file(<span class="string">'molest.txt'</span>) <span class="comment"># 调用分割文件函数</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="Python异常处理"><a href="#Python异常处理" class="headerlink" title="Python异常处理"></a>Python异常处理</h3><ul>
<li><code>try ---&gt; except --&gt; except --&gt; finally</code></li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># int('abc')</span></span><br><span class="line">    f = open(<span class="string">'boy_1.txt'</span>, <span class="string">'w'</span>)</span><br><span class="line">    print(f.write(<span class="string">'好冷啊'</span>))</span><br><span class="line">    print(f.read())</span><br><span class="line">    sum = <span class="number">1</span> + <span class="string">'1'</span></span><br><span class="line">    f.close()</span><br><span class="line"><span class="keyword">except</span> OSError <span class="keyword">as</span> reason:</span><br><span class="line">    print(<span class="string">'文件出错啦T_T\n错误原因是:'</span> + str(reason), <span class="string">'=='</span> * <span class="number">10</span>, type(reason))</span><br><span class="line"><span class="keyword">except</span> TypeError <span class="keyword">as</span> reason:</span><br><span class="line">    print(<span class="string">'类型出错啦T_T\n错误原因是:'</span> + str(reason), <span class="string">'=='</span> * <span class="number">10</span>, type(reason))</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'没有异常'</span>)  <span class="comment"># else可以和try except连用, 没异常时起作用</span></span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    f.close()</span><br><span class="line">    print(<span class="string">'这里收个尾'</span>)</span><br><span class="line"><span class="comment"># f.close()  # 写在这里也可行</span></span><br><span class="line">print(<span class="string">'来来来,见面分一半'</span>)</span><br><span class="line"><span class="keyword">raise</span> ZeroDivisionError(<span class="string">'除数不能为0'</span>)  <span class="comment"># 直接手写产生异常</span></span><br></pre></td></tr></table></figure>
<p>结果如下:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span></span><br><span class="line">文件出错啦T_T</span><br><span class="line">错误原因是:<span class="keyword">not</span> readable ==================== &lt;<span class="class"><span class="keyword">class</span> '<span class="title">io</span>.<span class="title">UnsupportedOperation</span>'&gt;</span></span><br><span class="line"><span class="class">这里收个尾</span></span><br><span class="line">来来来,见面分一半</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"/Users/hushiking/hu/python/littleTurtle/exception.py"</span>, line <span class="number">17</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="keyword">raise</span> ZeroDivisionError(<span class="string">'除数不能为0'</span>)  <span class="comment"># 直接手写产生异常</span></span><br><span class="line">ZeroDivisionError: 除数不能为<span class="number">0</span></span><br></pre></td></tr></table></figure>
<h3 id="with用法"><a href="#with用法" class="headerlink" title="with用法"></a>with用法</h3><ul>
<li>用在文件读写中, 不用手动关闭文件流, with自动搞定. 例如:</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">'data.txt'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(<span class="string">'with处理文件读写不用手动关闭文件流'</span>)</span><br><span class="line">        <span class="keyword">for</span> each_line <span class="keyword">in</span> f:</span><br><span class="line">            print(each_line)</span><br><span class="line"><span class="keyword">except</span> OSError <span class="keyword">as</span> reason:</span><br><span class="line">    print(<span class="string">'出错啦'</span> + str(reason))</span><br><span class="line"><span class="comment"># finally:</span></span><br><span class="line"><span class="comment">#    f.close()  # 不需要了</span></span><br></pre></td></tr></table></figure>
<ul>
<li>with可用于异常追踪</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sample</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__enter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__exit__</span><span class="params">(self, type, value, trace)</span>:</span></span><br><span class="line">        print(<span class="string">"type:"</span>, type)</span><br><span class="line">        print(<span class="string">"value:"</span>, value)</span><br><span class="line">        print(<span class="string">"trace:"</span>, trace)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_something</span><span class="params">(self)</span>:</span></span><br><span class="line">        bar = <span class="number">1</span> / <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> bar + <span class="number">10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Sample() <span class="keyword">as</span> sample:</span><br><span class="line">    sample.do_something()  <span class="comment"># 可答应出来异常的类型,值和追踪位置</span></span><br></pre></td></tr></table></figure>
<h2 id="Python面向对象"><a href="#Python面向对象" class="headerlink" title="Python面向对象"></a>Python面向对象</h2><h3 id="类似js的构造方法"><a href="#类似js的构造方法" class="headerlink" title="类似js的构造方法"></a>类似js的构造方法</h3><ul>
<li><code>__init__(self, name, ...)</code></li>
<li><code>__init__()</code>函数必须返回None, 否则报错</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kick</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"我叫%s, shit, 谁踢我..."</span> % self.name)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = Person(<span class="string">"李世民"</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.kick()</span><br><span class="line">我叫李世民, shit, 谁踢我...</span><br></pre></td></tr></table></figure>
<h3 id="设置私有变量"><a href="#设置私有变量" class="headerlink" title="设置私有变量"></a>设置私有变量</h3><ul>
<li><code>__name = &quot;xxx&quot;</code></li>
<li>可使用<code>p._Person__name</code>访问</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    __name = <span class="string">'小甲鱼'</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getName</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.__name</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = Person()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.__name</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;console&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AttributeError: <span class="string">'Person'</span> object has no attribute <span class="string">'__name'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.getName()</span><br><span class="line"><span class="string">'小甲鱼'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p._Person__name</span><br><span class="line"><span class="string">'小甲鱼'</span></span><br></pre></td></tr></table></figure>
<h3 id="通过property绑定属性"><a href="#通过property绑定属性" class="headerlink" title="通过property绑定属性"></a>通过property绑定属性</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, size=<span class="number">10</span>)</span>:</span></span><br><span class="line">        self.size = size</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getSize</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.size</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setSize</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self.size = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delSize</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">del</span> self.size</span><br><span class="line">    <span class="comment"># 绑定属性x与属性size</span></span><br><span class="line">    x = property(getSize, setSize, delSize)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c = C()</span><br><span class="line">print(c.size)  <span class="comment"># 10</span></span><br><span class="line">c.x = <span class="number">28</span></span><br><span class="line">print(c.size)  <span class="comment"># 28</span></span><br><span class="line">c.size = <span class="number">30</span></span><br><span class="line">print(c.x)  <span class="comment"># 30</span></span><br><span class="line"><span class="keyword">del</span> c.x</span><br><span class="line">print(c.size)  <span class="comment"># size属性已删除,报错</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong><em>property绑定属性原理</em></strong>, 自定义property类</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyProperty</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, fget=None, fset=None, fdel=None)</span>:</span></span><br><span class="line">        self.fget = fget</span><br><span class="line">        self.fset = fset</span><br><span class="line">        self.fdel = fdel</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__get__</span><span class="params">(self, instance, owner)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.fget(instance)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__set__</span><span class="params">(self, instance, value)</span>:</span></span><br><span class="line">        self.fset(instance, value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__delete__</span><span class="params">(self, instance)</span>:</span></span><br><span class="line">        self.fdel(instance)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self._x = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getX</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._x</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setX</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self._x = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delX</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">del</span> self._x</span><br><span class="line"></span><br><span class="line">    x = MyProperty(getX, setX, delX)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c = C()</span><br><span class="line">c.x = <span class="string">'xxx'</span></span><br><span class="line">print(c._x)  <span class="comment"># xxx</span></span><br><span class="line"><span class="keyword">del</span> c.x</span><br><span class="line">print(c._x)  <span class="comment"># 报错, AttributeError: 'C' object has no attribute '_x'</span></span><br></pre></td></tr></table></figure>
<h3 id="继承-用于纵向关系的类"><a href="#继承-用于纵向关系的类" class="headerlink" title="继承(用于纵向关系的类)"></a>继承(用于纵向关系的类)</h3><ul>
<li>其中pass是占位符, 表示不做任何处理</li>
<li>自己创建的MyList类继承系统的list类</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyList</span><span class="params">(list)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1 = MyList()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1.append(<span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1.append(<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1.append(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1</span><br><span class="line">[<span class="number">5</span>, <span class="number">3</span>, <span class="number">7</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1.sort()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list1</span><br><span class="line">[<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>子类中定义的方法会覆盖父类定义的方法, 包括<code>__init__(self)</code>方法</li>
<li>所以子类的<code>__init__(self)</code>需要先调用父类的<code>__init__(self)</code>方法<ol>
<li>调用未绑定的父类方法</li>
<li><code>super().__init__()</code></li>
</ol>
</li>
<li>Python支持多继承</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random <span class="keyword">as</span> r</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fish</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.x = r.randint(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line">        self.y = r.randint(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.x -= <span class="number">1</span></span><br><span class="line">        print(<span class="string">'我的位置是:'</span>, self.x, self.y)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shark</span><span class="params">(Fish)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="comment">#        Fish.__init__(self)  # 调用未绑定的父类方法</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.hungry = <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h3 id="类组合-用于横向关系的类-类之间没有继承关系或者其他关联"><a href="#类组合-用于横向关系的类-类之间没有继承关系或者其他关联" class="headerlink" title="类组合(用于横向关系的类, 类之间没有继承关系或者其他关联)"></a>类组合(用于横向关系的类, 类之间没有继承关系或者其他关联)</h3><ul>
<li>把要组合的类的实例化写入新类的<code>__init__</code>函数中, 例如:</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Turtle</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        self.num = x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fish</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        self.num = x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pool</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.turtle = Turtle(x)</span><br><span class="line">        self.fish = Fish(y)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_num</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"水池里总共有乌龟 %d 只和小鱼 %d 条!"</span> % (self.turtle.num, self.fish.num))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pool = Pool(<span class="number">2</span>, <span class="number">11</span>)</span><br><span class="line">pool.print_num()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 水池里总共有乌龟 2 只和小鱼 11 条!</span></span><br></pre></td></tr></table></figure>
<ul>
<li>类、类对象、实例对象<ul>
<li>类属性(静态属性/成员), 所有实例对象共用</li>
<li>实例属性(实例属性/成员), 与类属性同名的实例属性会覆盖类属性</li>
</ul>
</li>
<li>属性名与方法名相同, 属性会覆盖方法(导致方法无法调用)</li>
<li><strong>类的方法需要绑定self</strong>, 是为了实例对象调用该方法</li>
</ul>
<h2 id="Python魔法方法"><a href="#Python魔法方法" class="headerlink" title="Python魔法方法"></a>Python魔法方法</h2><h3 id="解构与析构"><a href="#解构与析构" class="headerlink" title="解构与析构"></a>解构与析构</h3><ul>
<li>在定义类时, 第一个调用的方法是<code>__new__</code>方法, 一般采用Python自带即可, 不需要重写, 当继承一个不可变的类时才可能需要重写. 例如:</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CapitalStr</span><span class="params">(str)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__new__</span><span class="params">(cls, string)</span>:</span></span><br><span class="line">        string = string.upper()</span><br><span class="line">        <span class="keyword">return</span> str.__new__(cls, string)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = CapitalStr(<span class="string">'Good morning, everyone!'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line"><span class="string">'GOOD MORNING, EVERYONE!'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>定义类时, 还有一个隐式的<code>__del__</code>方法, 当对象不再被其它变量引用时会被Python垃圾回收机制回收, 触发<code>__del__</code>方法</li>
</ul>
<h3 id="str-与-repr"><a href="#str-与-repr" class="headerlink" title="__str__与__repr__"></a><code>__str__</code>与<code>__repr__</code></h3><ul>
<li><code>str()</code>函数得到的字符串可读性好, 所以被print调用, 对应<code>__str__</code>函数返回值</li>
<li><code>repr()</code>函数得到字符串通常可以用来重新获得该对象, <code>obj==eval(repr(obj)</code>. 对应<code>__repr__</code>函数返回值</li>
<li><code>str()</code>则不同，它生成一个对象的可读性好的字符串表示，结果通常无法用<code>eval()</code>求值，但适合print输出。</li>
<li><code>str()</code>出来的值是给人看的。<code>repr()</code>出来的值是给python看的，可以通过eval()重新变回一个Python对象。</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> <span class="string">'a__str__'</span></span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> <span class="string">'a__repr__'</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = A()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">a__repr__</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(a)</span><br><span class="line">a__str__</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'%s'</span> % a</span><br><span class="line"><span class="string">'a__str__'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'%r'</span> % a</span><br><span class="line"><span class="string">'a__repr__'</span></span><br></pre></td></tr></table></figure>
<h4 id="定制定时器"><a href="#定制定时器" class="headerlink" title="定制定时器"></a>定制定时器</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定制定时器</span></span><br><span class="line"><span class="keyword">import</span> time <span class="keyword">as</span> t</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTimer</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.unit = [<span class="string">'年'</span>, <span class="string">'月'</span>, <span class="string">'日'</span>, <span class="string">'时'</span>, <span class="string">'分'</span>, <span class="string">'秒'</span>]</span><br><span class="line">        self.prompt = <span class="string">'未开始计时!'</span></span><br><span class="line">        self.lasted = []</span><br><span class="line">        self.begin = <span class="number">0</span></span><br><span class="line">        self.end = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 表示直接输出对象的值或者print(对象)的值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.prompt</span><br><span class="line"></span><br><span class="line">    __repr__ = __str__</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__add__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        prompt = <span class="string">'总共运行了'</span></span><br><span class="line">        result = []</span><br><span class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> range(<span class="number">6</span>):</span><br><span class="line">            result.append(self.lasted[index] + other.lasted[index])</span><br><span class="line">            <span class="keyword">if</span> result[index]:</span><br><span class="line">                prompt += (str(result[index]) + self.unit[index])</span><br><span class="line">        <span class="keyword">return</span> prompt</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 开始计时</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.begin = t.localtime()</span><br><span class="line">        self.prompt = <span class="string">'提示: 请先调研stop()停止计时!'</span></span><br><span class="line">        print(<span class="string">'计时开始...'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 停止计时</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">stop</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.begin:</span><br><span class="line">            print(<span class="string">'提示: 请先调用start()进行计时!'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.end = t.localtime()</span><br><span class="line">            self._calc()</span><br><span class="line">            print(<span class="string">'计时结束!'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 内部方法,计算运行时间</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_calc</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.lasted = []</span><br><span class="line">        self.prompt = <span class="string">'总共运行了'</span></span><br><span class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> range(<span class="number">6</span>):</span><br><span class="line">            self.lasted.append(self.end[index] - self.begin[index])</span><br><span class="line">            <span class="keyword">if</span> self.lasted[index]:</span><br><span class="line">                self.prompt += (str(self.lasted[index]) + self.unit[index])</span><br><span class="line">        <span class="comment"># 为下一轮计时初始化</span></span><br><span class="line">        self.begin = <span class="number">0</span></span><br><span class="line">        self.end = <span class="number">0</span></span><br><span class="line">        <span class="comment"># print(self.prompt)</span></span><br></pre></td></tr></table></figure>
<h3 id="add-与-sub"><a href="#add-与-sub" class="headerlink" title="__add__与__sub__"></a><code>__add__</code>与<code>__sub__</code></h3><p>内置加法与内置减法, 当两个对象相加或相减是触发</p>
<h3 id="属性访问-定制"><a href="#属性访问-定制" class="headerlink" title="属性访问(定制)"></a>属性访问(定制)</h3><ul>
<li><code>__getattr__(self, name)</code> –&gt; 定义当用户试图获取一个不存在的属性时的行为</li>
<li><code>__getattribute__(self, name)</code> –&gt; 定义当该类的属性被访问时的行为</li>
<li><code>__setattr__(self, name, value)</code> –&gt; 定义当一个属性被设置时的行为</li>
<li><code>__delattr__(self, name)</code> –&gt; 定义当一个属性被删除时的行为</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, width=<span class="number">0</span>, height=<span class="number">0</span>)</span>:</span></span><br><span class="line">        self.width = width</span><br><span class="line">        self.height = height</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self, name, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> name == <span class="string">'square'</span>:</span><br><span class="line">            self.width = value</span><br><span class="line">            self.height = value</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># self.name = value  # 报错,__setattr__自己调用自己,死循环</span></span><br><span class="line">            <span class="comment"># super().__setattr__(name, value)  # 可使用基类的__setattr__方法</span></span><br><span class="line">            self.__dict__[name] = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getArea</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.width * self.height</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">r = Rectangle(<span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">print(r.getArea())  <span class="comment"># 10</span></span><br><span class="line">r.square = <span class="number">10</span></span><br><span class="line">print(r.getArea())  <span class="comment"># 100</span></span><br></pre></td></tr></table></figure>
<ul>
<li>自定义温度函数转换(类似property)</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Celsius</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value=<span class="number">26</span>)</span>:</span></span><br><span class="line">        self.value = float(value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__get__</span><span class="params">(self, instance, owner)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__set__</span><span class="params">(self, instance, value)</span>:</span></span><br><span class="line">        self.value = float(value)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fahrenheit</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__get__</span><span class="params">(self, instance, owner)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> instance.cel * <span class="number">1.8</span> + <span class="number">32</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__set__</span><span class="params">(self, instance, value)</span>:</span></span><br><span class="line">        instance.cel = float(value) - <span class="number">32</span> / <span class="number">1.8</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Temperature</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value=<span class="number">26</span>)</span>:</span></span><br><span class="line">        self.value = float(value)</span><br><span class="line">    cel = Celsius()</span><br><span class="line">    fah = Fahrenheit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">temp = Temperature()</span><br><span class="line">print(temp.value)  <span class="comment"># 26.0</span></span><br><span class="line">print(temp.cel)  <span class="comment"># 26.0</span></span><br><span class="line">temp.cel = <span class="number">30</span></span><br><span class="line">print(temp.fah)  <span class="comment"># 86.0</span></span><br><span class="line">temp.fah = <span class="number">88</span></span><br><span class="line">print(temp.cel)  <span class="comment"># 70.22222222223</span></span><br></pre></td></tr></table></figure>
<h3 id="定制序列-容器"><a href="#定制序列-容器" class="headerlink" title="定制序列(容器)"></a>定制序列(容器)</h3><ol>
<li><code>__len__(self)</code></li>
<li><code>__getitem__(self, key)</code></li>
<li><code>__setitem__(self, key, value)</code></li>
<li><code>__delitem__(self, key)</code></li>
</ol>
<blockquote>
<p>定义元组或者字符串等不可变容器, 只需定义前两个方法即可<br>如果定义可变容器, 以上四个方法都需要定义</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CountList</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, *args)</span>:</span></span><br><span class="line">        self.values = [x <span class="keyword">for</span> x <span class="keyword">in</span> args]</span><br><span class="line">        self.count = dict.fromkeys(range(len(self.values)), <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self.values)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self, key)</span>:</span></span><br><span class="line">        self.count[key] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.values[key]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">list1 = CountList(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>)</span><br><span class="line">list2 = CountList(<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>)</span><br><span class="line">print(list1[<span class="number">1</span>])  <span class="comment"># 3</span></span><br><span class="line">print(list2[<span class="number">1</span>])  <span class="comment"># 4</span></span><br><span class="line">print(list1[<span class="number">1</span>] + list2[<span class="number">2</span>])  <span class="comment"># 3 + 6 = 9</span></span><br><span class="line">list1.count  <span class="comment"># 不代表获取list1容器中的元素</span></span><br><span class="line">print(list1.count)  <span class="comment"># &#123;0: 0, 1: 2, 2: 0, 3: 0, 4: 0&#125;</span></span><br><span class="line">print(list2.count)  <span class="comment"># &#123;0: 0, 1: 1, 2: 1, 3: 0, 4: 0&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="定制迭代器"><a href="#定制迭代器" class="headerlink" title="定制迭代器"></a>定制迭代器</h3><ul>
<li>iter() –&gt; 返回可迭代对象的迭代器</li>
<li>next() –&gt; 得到迭代器的下一个迭代值, 如果没有下一个迭代值, 报StopIteration异常</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>it = iter(<span class="string">'abc'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(it)</span><br><span class="line"><span class="string">'a'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(it)</span><br><span class="line"><span class="string">'b'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(it)</span><br><span class="line"><span class="string">'c'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(it)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;console&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">StopIteration</span><br></pre></td></tr></table></figure>
<ul>
<li>自己定制迭代器</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fibs</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n=<span class="number">10</span>)</span>:</span></span><br><span class="line">        self.a = <span class="number">0</span></span><br><span class="line">        self.b = <span class="number">1</span></span><br><span class="line">        self.n = n</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.a, self.b = self.b, self.a + self.b</span><br><span class="line">        <span class="keyword">if</span> self.a &gt; self.n:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration</span><br><span class="line">        <span class="keyword">return</span> self.a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fibs = Fibs(<span class="number">100</span>)</span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> fibs:</span><br><span class="line">    print(each, end=<span class="string">' '</span>)</span><br></pre></td></tr></table></figure>
<p>以上代码, Fibs被定义为一个可迭代的斐波那契类容器, 迭代结果如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 1 2 3 5 8 13 21 34 55 89</span><br></pre></td></tr></table></figure>
<h3 id="生成器函数"><a href="#生成器函数" class="headerlink" title="生成器函数"></a>生成器函数</h3><ul>
<li>关键词<code>yield</code>, 相当于return, 函数运行到此处会暂停或挂起, 并在需要的时候(<code>next()</code>)从程序离开的地方继续或者重新开始</li>
<li><strong>生成器推导式</strong></li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = (i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">&lt;generator object &lt;genexpr&gt; at <span class="number">0x10b9588e0</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(d)</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(d)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(d)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> d:</span><br><span class="line">    print(each, end=<span class="string">' '</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>
<ul>
<li>生成器推导式作为函数参数时可以<strong><em>省略括号</em></strong></li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum((i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>) <span class="keyword">if</span> i % <span class="number">2</span>))</span><br><span class="line"><span class="number">2500</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum(i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>) <span class="keyword">if</span> i % <span class="number">2</span>)</span><br><span class="line"><span class="number">2500</span></span><br></pre></td></tr></table></figure>
<h4 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>) <span class="keyword">if</span> i % <span class="number">2</span> <span class="keyword">and</span> <span class="keyword">not</span>(i % <span class="number">3</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a  <span class="comment"># 显示0, 99之间不能被2整除但能被3整除的数字</span></span><br><span class="line">[<span class="number">3</span>, <span class="number">9</span>, <span class="number">15</span>, <span class="number">21</span>, <span class="number">27</span>, <span class="number">33</span>, <span class="number">39</span>, <span class="number">45</span>, <span class="number">51</span>, <span class="number">57</span>, <span class="number">63</span>, <span class="number">69</span>, <span class="number">75</span>, <span class="number">81</span>, <span class="number">87</span>, <span class="number">93</span>, <span class="number">99</span>]</span><br></pre></td></tr></table></figure>
<h4 id="字典推导式"><a href="#字典推导式" class="headerlink" title="字典推导式"></a>字典推导式</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = &#123;i: i % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>)&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b  <span class="comment"># 0, 9之间的数字是否为偶数</span></span><br><span class="line">&#123;<span class="number">0</span>: <span class="literal">True</span>, <span class="number">1</span>: <span class="literal">False</span>, <span class="number">2</span>: <span class="literal">True</span>, <span class="number">3</span>: <span class="literal">False</span>, <span class="number">4</span>: <span class="literal">True</span>, <span class="number">5</span>: <span class="literal">False</span>, <span class="number">6</span>: <span class="literal">True</span>, <span class="number">7</span>: <span class="literal">False</span>, <span class="number">8</span>: <span class="literal">True</span>, <span class="number">9</span>: <span class="literal">False</span>&#125;</span><br></pre></td></tr></table></figure>
<h4 id="集合推导式"><a href="#集合推导式" class="headerlink" title="集合推导式"></a>集合推导式</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = &#123;i <span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">23</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c  <span class="comment"># 排除列表中重复的数字</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">23</span>&#125;</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Python/" rel="tag"># Python</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2016/12/13/JavaScript/for...in与for...of区别/" rel="prev" title="for...in 与 for...of 遍历的区别">
      <i class="fa fa-chevron-left"></i> for...in 与 for...of 遍历的区别
    </a></div>
      <div class="post-nav-item">
    <a href="/2017/02/26/Webpack/webpack2开发与生产环境配置文件详解/" rel="next" title="Webpack2 开发与生产环境配置文件详解">
      Webpack2 开发与生产环境配置文件详解 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Python学习"><span class="nav-number">1.</span> <span class="nav-text">Python学习</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Python2-和-Python3分别安装pip"><span class="nav-number">1.1.</span> <span class="nav-text">Python2 和 Python3分别安装pip</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Python虚拟环境virtualenv"><span class="nav-number">1.2.</span> <span class="nav-text">Python虚拟环境virtualenv</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#安装"><span class="nav-number">1.2.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用"><span class="nav-number">1.2.2.</span> <span class="nav-text">使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#激活虚拟环境"><span class="nav-number">1.2.3.</span> <span class="nav-text">激活虚拟环境</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#接下来就可以使用"><span class="nav-number">1.2.4.</span> <span class="nav-text">接下来就可以使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#退出虚拟环境"><span class="nav-number">1.2.5.</span> <span class="nav-text">退出虚拟环境</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Python简单操作"><span class="nav-number">1.3.</span> <span class="nav-text">Python简单操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#if-name-quot-main-quot"><span class="nav-number">1.3.1.</span> <span class="nav-text">if __name__ == &quot;__main__&quot;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Python判断数据类型与提示用户输入"><span class="nav-number">1.3.2.</span> <span class="nav-text">Python判断数据类型与提示用户输入</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#判断数据类型"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">判断数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#提示用户输入"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">提示用户输入</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#运算符"><span class="nav-number">1.3.3.</span> <span class="nav-text">运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#列表操作"><span class="nav-number">1.3.4.</span> <span class="nav-text">列表操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#列表推导式-x-for-x-in-args"><span class="nav-number">1.3.4.1.</span> <span class="nav-text">列表推导式[x for x in args]</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#元组操作"><span class="nav-number">1.3.5.</span> <span class="nav-text">元组操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串操作"><span class="nav-number">1.3.6.</span> <span class="nav-text">字符串操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#格式化输出-字符串格式化符号"><span class="nav-number">1.3.7.</span> <span class="nav-text">格式化输出(字符串格式化符号%)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#列表、元组和字符串共同点-可统称为序列"><span class="nav-number">1.3.8.</span> <span class="nav-text">列表、元组和字符串共同点(可统称为序列)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字典-dict"><span class="nav-number">1.3.9.</span> <span class="nav-text">字典(dict)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#字典常用方法"><span class="nav-number">1.3.9.1.</span> <span class="nav-text">字典常用方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#集合-set"><span class="nav-number">1.3.10.</span> <span class="nav-text">集合(set)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#循环"><span class="nav-number">1.3.11.</span> <span class="nav-text">循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Python导入模块与包"><span class="nav-number">1.3.12.</span> <span class="nav-text">Python导入模块与包</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#导入模块"><span class="nav-number">1.3.12.1.</span> <span class="nav-text">导入模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#搜索路径"><span class="nav-number">1.3.12.2.</span> <span class="nav-text">搜索路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#导入包"><span class="nav-number">1.3.12.3.</span> <span class="nav-text">导入包</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Python内建函数-BIF-build-in-function-与模块"><span class="nav-number">1.3.13.</span> <span class="nav-text">Python内建函数(BIF: build in function)与模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Python普通函数"><span class="nav-number">1.3.14.</span> <span class="nav-text">Python普通函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#函数返回值"><span class="nav-number">1.3.14.1.</span> <span class="nav-text">函数返回值</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Python文件读写"><span class="nav-number">1.3.15.</span> <span class="nav-text">Python文件读写</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Python异常处理"><span class="nav-number">1.3.16.</span> <span class="nav-text">Python异常处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#with用法"><span class="nav-number">1.3.17.</span> <span class="nav-text">with用法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Python面向对象"><span class="nav-number">1.4.</span> <span class="nav-text">Python面向对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#类似js的构造方法"><span class="nav-number">1.4.1.</span> <span class="nav-text">类似js的构造方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置私有变量"><span class="nav-number">1.4.2.</span> <span class="nav-text">设置私有变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通过property绑定属性"><span class="nav-number">1.4.3.</span> <span class="nav-text">通过property绑定属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#继承-用于纵向关系的类"><span class="nav-number">1.4.4.</span> <span class="nav-text">继承(用于纵向关系的类)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类组合-用于横向关系的类-类之间没有继承关系或者其他关联"><span class="nav-number">1.4.5.</span> <span class="nav-text">类组合(用于横向关系的类, 类之间没有继承关系或者其他关联)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Python魔法方法"><span class="nav-number">1.5.</span> <span class="nav-text">Python魔法方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#解构与析构"><span class="nav-number">1.5.1.</span> <span class="nav-text">解构与析构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#str-与-repr"><span class="nav-number">1.5.2.</span> <span class="nav-text">__str__与__repr__</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#定制定时器"><span class="nav-number">1.5.2.1.</span> <span class="nav-text">定制定时器</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#add-与-sub"><span class="nav-number">1.5.3.</span> <span class="nav-text">__add__与__sub__</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性访问-定制"><span class="nav-number">1.5.4.</span> <span class="nav-text">属性访问(定制)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#定制序列-容器"><span class="nav-number">1.5.5.</span> <span class="nav-text">定制序列(容器)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#定制迭代器"><span class="nav-number">1.5.6.</span> <span class="nav-text">定制迭代器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#生成器函数"><span class="nav-number">1.5.7.</span> <span class="nav-text">生成器函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#列表推导式"><span class="nav-number">1.5.7.1.</span> <span class="nav-text">列表推导式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字典推导式"><span class="nav-number">1.5.7.2.</span> <span class="nav-text">字典推导式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#集合推导式"><span class="nav-number">1.5.7.3.</span> <span class="nav-text">集合推导式</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">化简为凡</p>
  <div class="site-description" itemprop="description">hello, everyone, I love you!~</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">105</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">53</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">化简为凡</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  















  

  

</body>
</html>
